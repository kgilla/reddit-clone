{"version":3,"sources":["api/index.js","config/const.js","hooks/use-auth.js","hooks/use-flash-message.js","components/SidenavItem/SidenavItem.js","components/Sidenav/Sidenav.js","components/Navbar/Navbar.js","hooks/use-window-size.js","components/Score/Score.js","components/Alert/Alert.js","components/Post/Post.js","components/SidebarItem/SidebarItem.js","components/Sidebar/Sidebar.js","components/Loader/Loader.js","components/Home/Home.js","components/All/All.js","components/SubscribeButton/SubscribeButton.js","components/SubHeader/SubHeader.js","components/Sub/Sub.js","components/FormComponents/Input/Input.js","components/FormComponents/Form/Form.js","components/FormComponents/Textarea/Textarea.js","components/FormComponents/Select/Select.js","components/PostForm/PostForm.js","components/SubForm/SubForm.js","components/CommentForm/CommentForm.js","components/Comment/Comment.js","components/CommentIndex/CommentIndex.js","components/PostDetails/PostDetails.js","components/SignupForm/SignupForm.js","components/LoginForm/LoginForm.js","components/UserProfile/UserProfile.js","components/SubIndex/SubIndex.js","components/UserForm/UserForm.js","components/Flash/Flash.js","components/PrivateRoute/PrivateRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["fetchGetData","url","token","fetch","method","headers","Authorization","response","json","data","console","log","fetchPostData","body","JSON","stringify","fetchPutData","error","fetchDeleteData","baseUrl","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","setToken","storeVotes","votes","forEach","vote","value","id","post","comment","localStorage","setItem","login","username","password","signup","email","logout","clear","subscribe","sub","subscriptions","unsubscribe","newSubs","filter","s","useEffect","useProvideAuth","Provider","useAuth","useContext","flashContext","ProvideFlash","flash","message","setMessage","showMessage","setShowMessage","changeMessage","newMessage","setTimeout","useProvideFlash","useFlash","SidenavItem","onClick","href","title","to","className","Sidenav","subs","setSubs","showSidenav","setShowSidenav","fetchData","handleClick","createData","length","map","_id","name","style","color","backgroundColor","Navbar","history","useHistory","push","useWindowSize","width","undefined","height","windowSize","setWindowSize","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Score","score","item","type","handleChoice","getItem","choice","setChoice","e","t","currentTarget","changeChoice","increment","removeItem","Alert","onSubmit","target","Post","link","handleRemove","setScore","showAlert","setShowAlert","toggleAlert","handleDelete","ok","handleScoreChange","direction","old","castVote","author","moment","dateCreated","startOf","fromNow","dateEdited","src","match","youtubeParser","content","frameBorder","alt","commentCount","confirm","SidebarItem","heading","footing","Sidebar","size","shuffleArray","array","i","j","Math","floor","random","temp","slice","getUserImage","hash","cryptoJS","MD5","toLowerCase","dateJoined","format","description","pathname","state","subID","Loader","Home","posts","setPosts","fetchUserData","fetchAllData","removePost","newPosts","All","SubscribeButton","subData","userSubscribed","setUserSubscribed","some","changeSubscription","onMouseOver","textContent","onMouseLeave","SubHeader","creator","Sub","useParams","setData","isLoading","setIsLoading","Input","React","forwardRef","ref","label","rest","htmlFor","Form","handleSubmit","art","button","Textarea","placeholder","Select","defaultValue","optionsArray","option","PostForm","edit","location","useLocation","postID","setType","setError","useForm","resolver","yupResolver","yup","shape","required","min","max","trim","image","video","matches","shouldUnregister","register","errors","setValue","shouldValidate","createPost","updatePost","changeType","SubForm","getSubData","createSub","msg","updateSub","disabled","schema","CommentForm","props","parentComment","refreshPost","handleForm","parent","createComment","updateComment","preventDefault","Comment","layer","openForm","setOpenForm","setEdit","CommentIndex","comments","renderAllComments","replies","PostDetails","setPost","password2","oneOf","SignupForm","LoginForm","from","replace","UserProfile","setContent","removeComment","newComments","borderBottom","calcScore","SubIndex","passwordSchema","oldPassword","emailSchema","UserForm","updateEmail","updatePassword","Flash","PrivateRoute","render","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ecc4daa.chunk.js","sourcesContent":["const fetchGetData = async (url, token = \"\") => {\n  try {\n    const response = await fetch(url, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchPostData = async (url, body, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"post\",\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchPutData = async (url, body, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"put\",\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.log({ error: err });\n  }\n};\n\nconst fetchDeleteData = async (url, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"delete\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst createPost = async (body, token) => {\n  const response = await fetchPostData(\n    `http://localhost:3000/api/s/${body.sub}/posts/create`,\n    body,\n    token\n  );\n  return response;\n};\n\nexport {\n  fetchGetData,\n  fetchPostData,\n  fetchPutData,\n  fetchDeleteData,\n  createPost,\n};\n","export const baseUrl =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:5000\"\n    : \"https://reddit-api-00tw.onrender.com\";\n","import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport { fetchPostData } from \"../api\";\nimport { baseUrl } from \"../config/const\";\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n\n  const storeVotes = (votes) => {\n    votes.forEach((vote) => {\n      let data = {};\n      if (vote.value === true || vote.value === false) {\n        data.id = vote.post ? vote.post : vote.comment;\n        data.value = vote.value ? \"up\" : \"down\";\n        localStorage.setItem(data.id, data.value);\n      }\n    });\n  };\n\n  const login = async (username, password) => {\n    try {\n      const response = await fetchPostData(`${baseUrl}/api/users/login`, {\n        username,\n        password,\n      });\n      if (!response.user) {\n        return response;\n      } else if (response.user) {\n        storeVotes(response.votes);\n        setUser(response.user);\n        setToken(response.token);\n        return { user: response.user };\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const signup = async (username, password, email) => {\n    try {\n      const response = await fetchPostData(`${baseUrl}/api/users/create`, {\n        username,\n        password,\n        email,\n      });\n      return response;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.clear();\n  };\n\n  const subscribe = (sub) => {\n    setUser({ ...user, subscriptions: [...user.subscriptions, sub] });\n  };\n\n  const unsubscribe = (sub) => {\n    const newSubs = user.subscriptions.filter((s) => s !== sub);\n    setUser({ ...user, subscriptions: newSubs });\n  };\n\n  useEffect(() => {\n    const unsubscribe = (user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n    };\n\n    return () => unsubscribe();\n  }, []);\n\n  return {\n    user,\n    token,\n    login,\n    signup,\n    logout,\n    subscribe,\n    unsubscribe,\n  };\n}\n","import React, { useState, useContext, createContext } from \"react\";\n\nconst flashContext = createContext();\n\nexport function ProvideFlash({ children }) {\n  const flash = useProvideFlash();\n  return (\n    <flashContext.Provider value={flash}>{children}</flashContext.Provider>\n  );\n}\n\nexport const useFlash = () => {\n  return useContext(flashContext);\n};\n\nfunction useProvideFlash() {\n  const [message, setMessage] = useState(null);\n  const [showMessage, setShowMessage] = useState(false);\n\n  const changeMessage = (newMessage) => {\n    setMessage(newMessage);\n    setShowMessage(true);\n    setTimeout(() => {\n      setShowMessage(false);\n    }, 5000);\n  };\n\n  // useEffect(() => {\n\n  // }, [message, showMessage]);\n\n  return {\n    message,\n    showMessage,\n    changeMessage,\n  };\n}\n","import \"./SidenavItem.css\";\nimport { Link } from \"react-router-dom\";\n\nconst SidenavItem = ({ data, children }) => {\n  const { onClick, href, title } = data;\n\n  return (\n    <Link to={href} className=\"sidenav-item\" onClick={onClick}>\n      {children}\n      <span className=\"sidenav-item-heading\">{title}</span>\n    </Link>\n  );\n};\n\nexport default SidenavItem;\n","import \"./Sidenav.css\";\n\n// functions\nimport { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { baseUrl } from \"../../config/const\";\n\n//components\nimport SidenavItem from \"../SidenavItem\";\n\n//icons\n// import { SpaceShip } from \"@styled-icons/remix-fill\";\nimport { TrendingUp, CreateNewFolder } from \"@styled-icons/material\";\nimport { Home } from \"@styled-icons/boxicons-solid\";\nimport { World } from \"@styled-icons/boxicons-regular\";\nimport { User } from \"@styled-icons/fa-solid\";\nimport { Menu, Close } from \"@styled-icons/evaicons-solid\";\nimport { Create } from \"@styled-icons/ionicons-solid\";\n\nconst Sidenav = ({ logout }) => {\n  const auth = useAuth();\n  const [subs, setSubs] = useState(null);\n  const [showSidenav, setShowSidenav] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetchGetData(\n          `${baseUrl}/api/s/user`,\n          auth.token\n        );\n        setSubs(response.subs);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    auth.token ? fetchData() : setSubs(null);\n  }, [auth.token, showSidenav]);\n\n  const handleClick = () => {\n    showSidenav ? setShowSidenav(false) : setShowSidenav(true);\n  };\n\n  const createData = (href, title) => {\n    return {\n      href,\n      title,\n      onClick: handleClick,\n    };\n  };\n\n  return (\n    <div id=\"nav-subs\">\n      <button id=\"sub-nav-button\" onClick={handleClick}>\n        <Menu className=\"menu-icon\" />\n        <span className=\"sidenav-button-text\">Menu</span>\n      </button>\n      {showSidenav ? (\n        <div>\n          <div id=\"sidenav-overlay\" onClick={handleClick}></div>\n\n          <div\n            id=\"sub-sidenav\"\n            className={showSidenav ? \"sidenav-show\" : \"sidenav-hide\"}\n          >\n            <header className=\"sidenav-profile-header\">\n              <h5 className=\"sidenav-username\">{auth.user.username}</h5>\n              <button className=\"close-button\" onClick={handleClick}>\n                <Close className=\"close-button-icon\" />\n              </button>\n            </header>\n            <div className=\"sidenav-section\">\n              <SidenavItem\n                data={createData(`/users/${auth.user.username}`, \"Profile\")}\n              >\n                <User className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/\", \"Home\")}>\n                <Home className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/all\", \"All\")}>\n                <World className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/browse\", \"Browse Communities\")}>\n                <TrendingUp className=\"sidenav-item-icon\" />\n              </SidenavItem>\n            </div>\n            <div className=\"sidenav-section\">\n              <h6 className=\"sidenav-heading\">My Communities</h6>\n              {subs.length > 0\n                ? subs.map((sub) => (\n                    <SidenavItem\n                      key={sub._id}\n                      data={createData(`/s/${sub._id}`, sub.name)}\n                    >\n                      <div\n                        className=\"sidenav-item-circle\"\n                        style={\n                          sub.color ? { backgroundColor: sub.color } : null\n                        }\n                      ></div>\n                    </SidenavItem>\n                  ))\n                : null}\n            </div>\n            <div className=\"sidenav-section\">\n              <h6 className=\"sidenav-heading\">Other</h6>\n              <SidenavItem data={createData(\"/submit\", \"Create Post\")}>\n                <Create className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/create\", \"Create Community\")}>\n                <CreateNewFolder className=\"sidenav-item-icon\" />\n              </SidenavItem>\n            </div>\n            <div className=\"sidenav-button-box\">\n              <button className=\"button-outline logout-button\" onClick={logout}>\n                Logout\n              </button>\n            </div>\n            <div className=\"blue-box\"></div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Sidenav;\n","import \"./Navbar.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Sidenav from \"../Sidenav\";\nimport { useAuth } from \"../../hooks/use-auth\";\n\nconst Navbar = () => {\n  const auth = useAuth();\n  const history = useHistory();\n\n  const handleLogout = () => {\n    auth.logout();\n    history.push(\"/\");\n  };\n\n  return (\n    <div id=\"nav-container\">\n      <nav id=\"top-nav\">\n        <Link to=\"/\" id=\"nav-brand\">\n          S/eddit\n        </Link>\n        <div id=\"nav-sub-container\">\n          {auth.user ? (\n            <Sidenav logout={handleLogout} />\n          ) : (\n            <div className=\"nav-buttons\">\n              <Link to=\"/signup\" className=\"button-outline nav-button\">\n                Sign Up\n              </Link>\n              <Link to=\"/login\" className=\"button-filled nav-button\">\n                Log In\n              </Link>\n            </div>\n          )}\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import { useState, useEffect } from \"react\";\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n","import { ArrowUp, ArrowDown } from \"@styled-icons/entypo\";\nimport { useState } from \"react\";\nimport \"./Score.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\n\nconst Score = ({ score, item, type, handleChoice }) => {\n  const auth = useAuth();\n  const [choice, setChoice] = useState(\n    auth.user ? localStorage.getItem(item._id) : null\n  );\n\n  const handleClick = (e) => {\n    const t = e.currentTarget.name;\n    let increment = 0;\n    if (choice && choice === t) {\n      increment = t === \"up\" ? -1 : 1;\n      changeChoice(null, increment);\n    } else {\n      if (choice && choice !== t) {\n        increment = t === \"up\" ? 2 : -2;\n      } else {\n        increment = t === \"up\" ? 1 : -1;\n      }\n      changeChoice(t, increment);\n    }\n  };\n\n  const changeChoice = (t, increment) => {\n    setChoice(t);\n    t === null\n      ? localStorage.removeItem(item._id)\n      : localStorage.setItem(item._id, t);\n    handleChoice(t, increment);\n  };\n\n  return (\n    <div className={type === \"post\" ? \"post-score-box\" : \"score-box\"}>\n      <button\n        name=\"up\"\n        onClick={auth.user ? handleClick : null}\n        className=\"invis-button\"\n      >\n        <ArrowUp\n          className=\"score-arrow up-arrow\"\n          style={choice === \"up\" ? { color: \"var(--orange)\" } : null}\n        />\n      </button>\n      {type === \"post\" ? <span className=\"score-number\">{score}</span> : null}\n      <button\n        name=\"down\"\n        onClick={auth.user ? handleClick : null}\n        className=\"invis-button\"\n      >\n        <ArrowDown\n          className=\"score-arrow down-arrow\"\n          style={choice === \"down\" ? { color: \"var(--blue)\" } : null}\n        />\n      </button>\n    </div>\n  );\n};\n\nexport default Score;\n","import \"./Alert.css\";\n\nconst Alert = ({ title, message, onSubmit }) => {\n  const handleClick = (e) => {\n    e.target.name === \"confirm\" ? onSubmit(true) : onSubmit(false);\n  };\n\n  return (\n    <div className=\"alert-overlay\">\n      <div className=\"alert-container\">\n        <header className=\"alert-header\">\n          <h2 className=\"alert-title\">{title}</h2>\n        </header>\n        <main className=\"alert-main\">\n          <p className=\"alert-message\"> {message}</p>\n        </main>\n        <footer className=\"alert-footer\">\n          <button\n            name=\"confirm\"\n            onClick={handleClick}\n            className=\"button-outline confirm\"\n          >\n            Confirm\n          </button>\n          <button\n            name=\"cancel\"\n            onClick={handleClick}\n            className=\"button-filled cancel\"\n          >\n            Cancel\n          </button>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Alert;\n","import \"./Post.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Message } from \"@styled-icons/entypo\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport moment from \"moment\";\nimport Score from \"../Score\";\nimport Alert from \"../Alert\";\nimport { useState } from \"react\";\nimport { fetchPutData, fetchDeleteData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Post = ({ post, link, handleRemove }) => {\n  const [score, setScore] = useState(post.score);\n  const [showAlert, setShowAlert] = useState(false);\n  const flash = useFlash();\n  const auth = useAuth();\n  const windowSize = useWindowSize();\n  const history = useHistory();\n\n  const handleDeleteProposal = (confirm) => {\n    confirm ? handleDelete() : toggleAlert();\n  };\n\n  const toggleAlert = () => {\n    showAlert ? setShowAlert(false) : setShowAlert(true);\n  };\n\n  const handleDelete = async () => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/delete`;\n    const response = await fetchDeleteData(url, auth.token);\n    if (response.ok) {\n      flash.changeMessage(\"Post deleted successfully!\");\n      handleRemove ? handleRemove(post._id) : history.push(\"/\");\n    } else {\n      console.log(\"Not Okay.\");\n    }\n  };\n\n  const handleScoreChange = (direction, increment) => {\n    setScore((old) => (old += increment));\n    if (direction === \"up\") {\n      castVote(true);\n    } else if (direction === \"down\") {\n      castVote(false);\n    } else {\n      castVote(null);\n    }\n  };\n\n  const castVote = async (value) => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/vote`;\n    const response = await fetchPutData(url, { value }, auth.token);\n    console.log(response);\n  };\n\n  const youtubeParser = (url) => {\n    var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n    var match = url.match(regExp);\n    return match && match[7].length === 11 ? match[7] : false;\n  };\n\n  return (\n    <div>\n      <div className=\"post-container\">\n        {windowSize.width > 800 ? (\n          <Score\n            score={score}\n            item={post}\n            type=\"post\"\n            handleChoice={handleScoreChange}\n          />\n        ) : null}\n        <article>\n          <header className=\"card-header\">\n            <Link to={`/s/${post.sub._id}`} className=\"header-item sub-link\">\n              {post.sub.name}\n            </Link>\n            <span className=\"header-item\">Posted by</span>\n            {post.author ? (\n              <Link\n                to={`/users/${post.author.username}`}\n                className=\"header-item profile-link\"\n              >\n                {post.author.username}\n              </Link>\n            ) : (\n              \"[Deleted]\"\n            )}\n            <span className=\"header-item\">\n              {moment(post.dateCreated).startOf(\"hour\").fromNow()}\n            </span>\n            {post.dateEdited ? (\n              <span className=\"header-item edited-item\">\n                edited {moment(post.dateEdited).startOf(\"hour\").fromNow()}\n              </span>\n            ) : null}\n          </header>\n          <main className=\"card-main\">\n            <h2 className=\"post-title\">{post.title}</h2>\n            {post.type === \"video\" ? (\n              <iframe\n                title={post.title}\n                className=\"post-content-video\"\n                src={`https://www.youtube.com/embed/${youtubeParser(\n                  post.content\n                )}`}\n                frameBorder=\"0\"\n              ></iframe>\n            ) : post.type === \"link\" ? (\n              <div>\n                {\" \"}\n                <a className=\"post-content-link\" href={post.content}>\n                  {post.content}\n                </a>\n              </div>\n            ) : post.type === \"image\" ? (\n              <img\n                className=\"post-image\"\n                alt=\"Post Image\"\n                src={post.content}\n              ></img>\n            ) : (\n              <p className=\"post-content\">{post.content}</p>\n            )}\n          </main>\n          <footer className=\"card-footer\">\n            {windowSize.width < 800 ? (\n              <Score\n                score={score}\n                item={post}\n                type=\"post\"\n                handleChoice={handleScoreChange}\n              />\n            ) : null}\n            <span className=\"footer-item footer-reply\">\n              <Message className=\"reply-bubble\" />\n              {post.commentCount === 1\n                ? \"1 Comment\"\n                : post.commentCount + \" Comments\"}\n            </span>\n            {auth.user && auth.user._id === post.author._id ? (\n              <Link\n                to={`/s/${post.sub._id}/posts/${post._id}/update`}\n                className=\"footer-item\"\n              >\n                Edit\n              </Link>\n            ) : null}\n            {auth.user && auth.user._id === post.author._id ? (\n              <button\n                className=\"footer-item\"\n                name=\"delete\"\n                onClick={toggleAlert}\n              >\n                Delete\n              </button>\n            ) : null}\n          </footer>\n        </article>\n        {link ? (\n          <Link\n            to={`/s/${post.sub._id}/posts/${post._id}`}\n            className=\"post-link\"\n          ></Link>\n        ) : null}\n      </div>\n      {showAlert ? (\n        <Alert\n          title=\"Delete Post\"\n          message=\"Are you sure you want to delete this post?\"\n          onSubmit={handleDeleteProposal}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default Post;\n","import \"./SidebarItem.css\";\n\nconst SidebarItem = ({ heading, color, children, footing }) => {\n  return (\n    <div className=\"sidebar-item\">\n      <header\n        className=\"sidebar-item-header\"\n        style={color ? { backgroundColor: color } : null}\n      >\n        <h2 className=\"heading-white\">{heading}</h2>\n      </header>\n      <main className=\"sidebar-item-main\">{children}</main>\n      {footing ? (\n        <footer className=\"sidebar-item-footer\">{footing}</footer>\n      ) : null}\n    </div>\n  );\n};\n\nexport default SidebarItem;\n","import \"./Sidebar.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport cryptoJS from \"crypto-js\";\nimport { fetchGetData } from \"../../api\";\nimport SidebarItem from \"../SidebarItem\";\nimport moment from \"moment\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Sidebar = ({ sub, user, score }) => {\n  const auth = useAuth();\n  const size = useWindowSize();\n  const [subs, setSubs] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/`);\n      shuffleArray(response.subs);\n      setSubs(response.subs.slice(0, 5));\n    };\n\n    fetchData();\n  }, [sub]);\n\n  function shuffleArray(array) {\n    for (var i = array.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n  }\n\n  const getUserImage = () => {\n    const hash = cryptoJS.MD5(user.email.toLowerCase());\n    return `https://www.gravatar.com/avatar/${hash}?s=200&r=pg&d=mp`;\n  };\n\n  const subSidebar = () => {\n    return (\n      <div id=\"sidebar-container\">\n        <SidebarItem\n          color={sub ? sub.color : null}\n          heading=\"About Community\"\n          footing={\n            sub.dateCreated\n              ? \"Created: \" + moment(sub.dateCreated).format(\"MMMM Do YYYY\")\n              : null\n          }\n        >\n          <p>{sub.description}</p>\n        </SidebarItem>\n        {auth.user ? (\n          <SidebarItem heading=\"Create Content\" color={sub ? sub.color : null}>\n            <div className=\"button-box\">\n              <Link\n                to={{ pathname: \"/submit\", state: { subID: sub._id } }}\n                className=\"button-filled\"\n              >\n                Create Post\n              </Link>\n              <Link to=\"/s/create\" className=\"button-outline\">\n                Create Community\n              </Link>\n            </div>\n          </SidebarItem>\n        ) : null}\n        <SidebarItem\n          color={sub ? sub.color : null}\n          heading=\"Other Communities\"\n          footing={\n            <div className=\"button-box\">\n              <Link className=\"button-filled\" to=\"/s/browse\">\n                All Communities\n              </Link>\n            </div>\n          }\n        >\n          {subs\n            ? subs.map((sub) => (\n                <div className=\"sub-preview\" key={sub._id}>\n                  <div className=\"small-sub-image sub-image\"></div>\n                  {sub.name}\n                  <Link\n                    to={`/s/${sub._id}`}\n                    key={sub._id}\n                    className=\"sub-preview-link\"\n                  />\n                </div>\n              ))\n            : null}\n        </SidebarItem>\n      </div>\n    );\n  };\n\n  const userSidebar = () => {\n    return (\n      <div id=\"sidebar-container\">\n        <SidebarItem\n          heading={<img className=\"profile-picture\" src={getUserImage()} />}\n        >\n          <h2>{user.username}</h2>\n          <div className=\"user-stats\">\n            <div className=\"user-stat-group\">\n              <h5 className=\"user-stat-label\">Score</h5>\n              <span className=\"user-stat\">{score}</span>\n            </div>\n            <div className=\"user-stat-group\">\n              <h5 className=\"user-stat-label\">Date Joined</h5>\n              <span className=\"user-stat\">\n                {moment(user.dateJoined).format(\"MMMM DD YYYY\")}\n              </span>\n            </div>\n          </div>\n        </SidebarItem>\n        {auth.user && auth.user._id === user._id ? (\n          <SidebarItem heading=\"Edit User Details\">\n            <div className=\"button-box\">\n              <Link\n                to={`/users/${auth.user.username}/update_email`}\n                className=\"button-filled\"\n              >\n                Change Email\n              </Link>\n              <Link\n                to={`/users/${auth.user.username}/update_password`}\n                className=\"button-outline\"\n              >\n                Change Password\n              </Link>\n            </div>\n          </SidebarItem>\n        ) : null}\n      </div>\n    );\n  };\n\n  return size.width > 950 ? (user ? userSidebar() : subSidebar()) : null;\n};\n\nexport default Sidebar;\n","import \"./Loader.css\";\n\nconst Loader = () => {\n  return (\n    <div className=\"lds-facebook\">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\nimport { Surprise } from \"@styled-icons/fa-solid\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Home = () => {\n  const auth = useAuth();\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await fetchGetData(\n          `${baseUrl}/api/s/user/posts/home`,\n          auth.token\n        );\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    const fetchAllData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/s/home/posts/`);\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    auth.user ? fetchUserData() : fetchAllData();\n  }, [auth.user, auth.token]);\n\n  const removePost = (id) => {\n    const newPosts = posts.filter((post) => post._id !== id);\n    setPosts(newPosts);\n  };\n\n  return (\n    <div className=\"sub-container\">\n      {posts ? (\n        <main className=\"sub-page\">\n          <div className=\"posts-container\">\n            {posts.length > 0 ? (\n              posts.map((post) => (\n                <Post\n                  key={post._id}\n                  post={post}\n                  link={true}\n                  handleRemove={removePost}\n                />\n              ))\n            ) : (\n              <div className=\"empty-sub\">\n                <h1>Subscribe to communities to get started</h1>\n                <Surprise className=\"empty-sub-icon\" />\n                <Link to=\"/s/browse\" className=\"button-filled\">\n                  Browse Communities\n                </Link>\n              </div>\n            )}\n          </div>\n          <Sidebar\n            sub={\n              auth.user\n                ? {\n                    name: \"Homepage\",\n                    description: \"Your personalized homepage\",\n                  }\n                : {\n                    name: \"All\",\n                    description: \"All the newest posts from every community\",\n                  }\n            }\n          />\n        </main>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\n\nconst All = () => {\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    const fetchAllData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/s/home/posts/`);\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchAllData();\n  }, []);\n\n  return (\n    <div className=\"sub-container\">\n      {posts ? (\n        <main className=\"sub-page\">\n          <div className=\"posts-container\">\n            {posts.map((post) => (\n              <Post key={post._id} post={post} link={true} />\n            ))}\n          </div>\n          <Sidebar\n            sub={{\n              name: \"All\",\n              description:\n                \"This is a collection of all the communities newest posts\",\n            }}\n          />\n        </main>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default All;\n","import { useState, useEffect } from \"react\";\nimport { fetchPutData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport \"./SubscribeButton.css\";\nimport { baseUrl } from \"../../config/const\";\n\nconst SubscribeButton = ({ subData }) => {\n  const auth = useAuth();\n  const flash = useFlash();\n  const [userSubscribed, setUserSubscribed] = useState(null);\n\n  useEffect(() => {\n    const isUserSubscribed = () => {\n      if (auth.user.subscriptions.some((sub) => sub === subData._id)) {\n        setUserSubscribed(true);\n      }\n    };\n    isUserSubscribed();\n  }, [subData, auth.user]);\n\n  const subscribe = async () => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subData._id}/subscribe`,\n        { body: \"\" },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(`Now subscribed to ${subData.name}`);\n        auth.subscribe(subData._id);\n      } else {\n        console.log(\"something went wrong\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const unsubscribe = async () => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subData._id}/unsubscribe`,\n        { body: \"\" },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(`Unsubscribed from ${subData.name}`);\n        auth.unsubscribe(subData._id);\n      } else {\n        console.log(\"something went wrong\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleClick = () => {\n    changeSubscription();\n  };\n\n  const handleMouseOver = (e) => {\n    e.target.textContent = userSubscribed ? \"Leave\" : \"Join?\";\n  };\n\n  const handleMouseLeave = (e) => {\n    e.target.textContent = userSubscribed ? \"Joined\" : \"Join\";\n  };\n\n  const changeSubscription = async () => {\n    if (userSubscribed) {\n      setUserSubscribed(false);\n      await unsubscribe();\n    } else {\n      setUserSubscribed(true);\n      await subscribe();\n    }\n  };\n\n  return (\n    <div className=\"subscribe-button-container\">\n      <button\n        onClick={handleClick}\n        onMouseOver={handleMouseOver}\n        onMouseLeave={handleMouseLeave}\n        className={\n          userSubscribed\n            ? \"button-outline subscribe-button\"\n            : \"button-filled subscribe-button\"\n        }\n      >\n        {userSubscribed ? \"Joined\" : \"Join\"}\n      </button>\n    </div>\n  );\n};\n\nexport default SubscribeButton;\n","import \"./SubHeader.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { Link } from \"react-router-dom\";\nimport SubscribeButton from \"../SubscribeButton\";\nimport { Options2 } from \"@styled-icons/evaicons-solid\";\n\nconst SubHeader = ({ subData }) => {\n  const auth = useAuth();\n  return (\n    <header className=\"sub-header-container\">\n      <div\n        className=\"community-theme\"\n        style={subData.color ? { backgroundColor: subData.color } : null}\n      ></div>\n      <div className=\"lower-header-container\">\n        <div className=\"header-main-container\">\n          <div className=\"sub-image\"></div>\n          <div className=\"header-sub-container\">\n            <div className=\"sub-title-container\">\n              <h1 className=\"sub-title\">{subData.name}</h1>\n            </div>\n            <div className=\"sub-header-buttons\">\n              {auth.user ? <SubscribeButton subData={subData} /> : null}\n              {auth.user && subData.creator === auth.user._id ? (\n                <Link\n                  to={`/s/${subData._id}/update`}\n                  className=\"button-filled nav-button\"\n                >\n                  <Options2 className=\"button-icon\" />\n                </Link>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default SubHeader;\n","import \"./Sub.css\";\nimport { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { fetchGetData } from \"../../api\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport SubHeader from \"../SubHeader\";\nimport Loader from \"../Loader\";\nimport { Surprise } from \"@styled-icons/fa-solid\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Sub = () => {\n  const { subID } = useParams();\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(`${baseUrl}/api/s/${subID}`);\n      setData({ sub: response.sub, posts: response.posts });\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [subID]);\n\n  const removePost = (id) => {\n    const newPosts = data.posts.filter((post) => post._id !== id);\n    setData({ ...data, posts: newPosts });\n  };\n\n  return isLoading ? (\n    <Loader />\n  ) : data ? (\n    <div className=\"sub-container\">\n      <SubHeader subData={data.sub} />\n      <main className=\"sub-page\">\n        <div className=\"posts-container\">\n          {data.posts.length > 0 ? (\n            data.posts.map((post) => (\n              <Post\n                key={post._id}\n                post={post}\n                link=\"true\"\n                handleRemove={removePost}\n              />\n            ))\n          ) : (\n            <div className=\"empty-sub\">\n              <h1>No Posts Yet!</h1>\n              <Surprise className=\"empty-sub-icon\" />\n              <Link\n                to={{ pathname: \"/submit\", state: { subID: data.sub._id } }}\n                className=\"button-filled\"\n              >\n                Create Post\n              </Link>\n            </div>\n          )}\n        </div>\n        <Sidebar sub={data.sub} />\n      </main>\n    </div>\n  ) : null;\n};\n\nexport default Sub;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Input = React.forwardRef(({ name, label, error, ...rest }, ref) => {\n  return (\n    <div className=\"form-group\">\n      <label className=\"form-group-label\" htmlFor={name}>\n        {label}\n      </label>\n      <input\n        className={error ? \"form-group-input-error\" : \"form-group-input\"}\n        name={name}\n        {...rest}\n        ref={ref}\n      />\n      {error ? <span className=\"error\">{error}</span> : null}\n    </div>\n  );\n});\n\nexport default Input;\n","import \"./Form.css\";\n\nconst Form = ({ handleSubmit, title, error, art, button, children }) => {\n  return (\n    <div className=\"form-container\">\n      <div className={`form-art art${art}`}></div>\n      <form className=\"formy-form\" onSubmit={handleSubmit}>\n        <h2 className=\"form-heading\">{title}</h2>\n        {error ? <div className=\"error-block\">{error}</div> : null}\n        {children}\n        <input type=\"submit\" className=\"button-filled\" value={button} />\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Textarea = React.forwardRef(\n  ({ name, label, placeholder, error }, ref) => {\n    return (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor={name}>\n          {label}\n        </label>\n        <textarea\n          className={\n            error ? \"form-group-textarea-error\" : \"form-group-textarea\"\n          }\n          name={name}\n          placeholder={placeholder}\n          ref={ref}\n        ></textarea>\n        {error ? <span className=\"error\">{error}</span> : null}\n      </div>\n    );\n  }\n);\n\nexport default Textarea;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Select = React.forwardRef(\n  ({ name, label, defaultValue, optionsArray, error }, ref) => {\n    return (\n      <div className=\"form-group\">\n        <label htmlFor={name} className=\"form-group-label\">\n          {label}\n        </label>\n        <select name={name} defaultValue={defaultValue} ref={ref}>\n          {optionsArray.map((option) => (\n            <option key={option._id} value={option._id}>\n              {option.name}\n            </option>\n          ))}\n        </select>\n        {error ? <span className=\"error\">{error}</span> : null}\n      </div>\n    );\n  }\n);\n\nexport default Select;\n","import \"./PostForm.css\";\nimport { fetchGetData, fetchPostData, fetchPutData } from \"../../api/index\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { baseUrl } from \"../../config/const\";\nimport { Input, Textarea, Form, Select } from \"../FormComponents\";\n\nconst PostForm = ({ edit }) => {\n  const location = useLocation();\n  console.log(location);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { subID, postID } = useParams() || \"\";\n\n  const [type, setType] = useState(\"text\");\n  const [subs, setSubs] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {}, [type]);\n\n  const makeSchema = () => {\n    return type === \"text\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          content: yup.string().max(2000).trim(),\n        })\n      : type === \"image\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          image: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"Valid URL is required\")\n            .max(100)\n            .min(1)\n            .trim(),\n        })\n      : type === \"video\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          video: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"A link is required\")\n            .matches(\n              /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/,\n              {\n                message: \"Must be a valid YouTube URL\",\n              }\n            )\n            .max(100)\n            .min(1)\n            .trim(),\n        })\n      : yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          link: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"Valid URL is required\")\n            .max(100)\n            .min(1)\n            .trim(),\n        });\n  };\n\n  const { register, handleSubmit, errors, setValue } = useForm({\n    resolver: yupResolver(makeSchema()),\n    shouldUnregister: false,\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/user`, auth.token);\n      setSubs(response.subs);\n    };\n    if (!edit) fetchData();\n  }, [auth.token, edit]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}`\n      );\n      console.log(response);\n      if (response.post.type) {\n        setType(response.post.type);\n      }\n      if (response.post.type && response.post.type === \"video\") {\n        setValue(response.post.type, response.post.content, {\n          shouldValidate: true,\n        });\n      }\n      setValue(\"title\", response.post.title, { shouldValidate: true });\n    };\n    if (edit) {\n      fetchData();\n    }\n  }, [edit, postID, setValue, subID]);\n\n  const onSubmit = (data) => {\n    let { title, sub, content, video, link, image } = data;\n    if (type === \"video\") {\n      data = { title, content: video, type, sub };\n    } else if (type === \"image\") {\n      data = { title, sub, type, content: image };\n    } else if (type === \"link\") {\n      data = { title, sub, type, content: link };\n    } else {\n      data = { title, sub, type, content };\n    }\n    edit ? updatePost(data) : createPost(data);\n  };\n\n  const makeInput = () => {\n    return type === \"text\" ? (\n      <Textarea\n        name=\"content\"\n        label=\"Content\"\n        placeholder=\"optional\"\n        ref={register}\n        error={errors.content ? errors.content.message : null}\n      />\n    ) : type === \"video\" ? (\n      <Input\n        name=\"video\"\n        type=\"text\"\n        label=\"YouTube Video\"\n        placeholder=\"Please include the full url\"\n        ref={register}\n        error={errors.video ? errors.video.message : null}\n      />\n    ) : type === \"link\" ? (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor=\"link\">\n          Link\n        </label>\n        <input\n          className={\n            errors.link ? \"form-group-input-error\" : \"form-group-input\"\n          }\n          name=\"link\"\n          type=\"text\"\n          placeholder=\"Please include the full url\"\n          ref={register}\n        />\n        {errors.link ? (\n          <span className=\"error\">{errors.link.message}</span>\n        ) : null}\n      </div>\n    ) : (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor=\"image\">\n          Image Link\n        </label>\n        <input\n          className={\n            errors.image ? \"form-group-input-error\" : \"form-group-input\"\n          }\n          name=\"image\"\n          type=\"text\"\n          placeholder=\"Please include the full url\"\n          ref={register}\n        />\n        {errors.image ? (\n          <span className=\"error\">{errors.image.message}</span>\n        ) : null}\n      </div>\n    );\n  };\n\n  const createPost = async (data) => {\n    const response = await fetchPostData(\n      `${baseUrl}/api/s/${subID}/posts/create`,\n      data,\n      auth.token\n    );\n    if (response.post) {\n      flash.changeMessage(response.message);\n      history.push(`/s/${data.sub}/posts/${response.post._id}`);\n    } else {\n      setError(\"Something went wrong\");\n    }\n  };\n\n  const updatePost = async (data) => {\n    try {\n      const url = `${baseUrl}/api/s/${subID}/posts/${postID}/update`;\n      const response = await fetchPutData(url, data, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Post updated successfully\");\n        history.push(`/s/${data.sub}/posts/${postID}`);\n      } else {\n        setError(\"Something went wrong\");\n      }\n    } catch (err) {\n      console.log({ message: \"something went wrong\", error: err });\n    }\n  };\n\n  const changeType = (e) => {\n    setType(e.target.name);\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title={edit ? \"Edit Post\" : \"Create Post\"}\n      error={error}\n      art=\"1\"\n      button={edit ? \"Save Changes\" : \"Create Post\"}\n    >\n      <div className=\"type-selector\">\n        <button\n          type=\"button\"\n          name=\"text\"\n          onClick={changeType}\n          className={\n            type === \"text\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Text\n        </button>\n        <button\n          type=\"button\"\n          name=\"image\"\n          onClick={changeType}\n          className={\n            type === \"image\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          {\" \"}\n          Image\n        </button>\n        <button\n          type=\"button\"\n          name=\"video\"\n          onClick={changeType}\n          className={\n            type === \"video\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Video\n        </button>\n        <button\n          type=\"button\"\n          name=\"link\"\n          onClick={changeType}\n          className={\n            type === \"link\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Link\n        </button>\n      </div>\n      {subs ? (\n        <Select\n          name=\"sub\"\n          label=\"Community\"\n          defaultValue={location.state ? location.state.subID : null}\n          optionsArray={subs}\n          ref={register}\n          error={errors.sub ? errors.sub.message : null}\n        />\n      ) : null}\n      <Input\n        name=\"title\"\n        type=\"text\"\n        label=\"Title\"\n        placeholder=\"What did you want everyone to know about?\"\n        ref={register}\n        error={errors.title ? errors.title.message : null}\n      />\n      {makeInput()}\n    </Form>\n  );\n};\n\nexport default PostForm;\n","import { fetchPostData, fetchGetData, fetchPutData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { useState, useEffect } from \"react\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Input, Form, Textarea } from \"../FormComponents\";\nimport { baseUrl } from \"../../config/const\";\n\nconst SubForm = ({ edit }) => {\n  const { subID } = useParams() || \"\";\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const [error, setError] = useState(null);\n\n  const makeSchema = () => {\n    if (edit) {\n      return yup.object().shape({\n        description: yup.string().required().min(6).max(600),\n      });\n    } else {\n      return yup.object().shape({\n        name: yup\n          .string()\n          .required()\n          .min(3)\n          .max(20)\n          .trim()\n          .matches(/^[_a-zA-Z0-9]*$/, {\n            message: \"cannot contain special characters or spaces\",\n          }),\n        description: yup.string().required().min(6).max(600),\n      });\n    }\n  };\n\n  const { register, handleSubmit, setValue, errors } = useForm({\n    resolver: yupResolver(makeSchema()),\n  });\n\n  useEffect(() => {\n    const getSubData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/${subID}\n      `);\n      setValue(\"name\", response.sub.name);\n      setValue(\"description\", response.sub.description);\n      setValue(\"color\", response.sub.color);\n    };\n    if (edit) getSubData();\n  }, [edit, setValue, subID]);\n\n  const onSubmit = (data) => {\n    edit ? updateSub(data) : createSub(data);\n  };\n\n  const createSub = async (data) => {\n    try {\n      const response = await fetchPostData(\n        `${baseUrl}/api/s/create`,\n        data,\n        auth.token\n      );\n      if (response.errors) {\n        setError(response.errors[0].msg);\n      } else if (response.sub) flash.changeMessage(\"New community created!\");\n      history.push(`/s/${response.sub._id}`);\n    } catch (err) {\n      setError(err);\n      console.log(\"something wrong in sub creation\");\n    }\n  };\n\n  const updateSub = async (data) => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subID}/update`,\n        data,\n        auth.token\n      );\n      if (response.ok) {\n        history.push(`/s/${subID}`);\n      } else {\n        console.log(\"errorsss\");\n      }\n    } catch (err) {\n      setError(err);\n      console.log(\"something wrong in sub creation\");\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title={edit ? \"Update Community\" : \"Create Community\"}\n      error={error}\n      art=\"1\"\n      button={edit ? \"Save Changes\" : \"Create Community\"}\n    >\n      <Input\n        name=\"name\"\n        label=\"Community Name\"\n        type=\"text\"\n        placeholder=\"3-20 characters\"\n        disabled={edit ? \"disabled\" : null}\n        ref={register}\n        error={errors.name ? errors.name.message : null}\n      />\n\n      <Textarea\n        name=\"description\"\n        label=\"Description\"\n        placeholder=\"min 6 characters\"\n        ref={register}\n        error={errors.description ? errors.description.message : null}\n      />\n      <Input name=\"color\" label=\"Community Color\" type=\"color\" ref={register} />\n    </Form>\n  );\n};\n\nexport default SubForm;\n","import \"./CommentForm.css\";\nimport { fetchPostData, fetchPutData } from \"../../api\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Textarea } from \"../FormComponents\";\nimport { useEffect } from \"react\";\nimport { baseUrl } from \"../../config/const\";\n\nconst schema = yup.object().shape({\n  content: yup.string().required().min(1).max(600),\n});\n\nconst CommentForm = (props) => {\n  const auth = useAuth();\n  const flash = useFlash();\n  const { parentComment, refreshPost, handleForm, edit } = props;\n  const { subID, postID } = useParams();\n  const parent = parentComment ? parentComment._id : null;\n  const { register, handleSubmit, errors, setValue } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    if (edit) {\n      setValue(\"content\", parentComment.content, { shouldValidate: true });\n    }\n  }, [parentComment, edit, setValue]);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    handleForm(e);\n  };\n\n  const createComment = async (content) => {\n    try {\n      parentComment ? console.log(true) : console.log(false);\n      const response = await fetchPostData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}/comments/create`,\n        parentComment ? { content, parent: parentComment._id } : { content },\n        auth.token\n      );\n      if (response.comment) {\n        flash.changeMessage(\"Comment created successfully\");\n        refreshPost();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateComment = async (content) => {\n    try {\n      const url = `${baseUrl}/api/s/${subID}/posts/${postID}/comments/${parent}/update`;\n      const response = await fetchPutData(url, { content }, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Comment edited successfully\");\n        refreshPost();\n      } else {\n        flash.changeMessage(\"Oops! Something went wrong.\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const onSubmit = (data) => {\n    const { content } = data;\n    edit ? updateComment(content) : createComment(content);\n  };\n\n  return auth.user ? (\n    <form className=\"comment-form\" onSubmit={handleSubmit(onSubmit)}>\n      <Textarea\n        name=\"content\"\n        placeholder=\"What are your thoughts?\"\n        ref={register}\n        error={errors.content ? errors.content.message : null}\n      />\n      <div className=\"form-button-container\">\n        {parentComment ? (\n          <button\n            className=\"button-outline\"\n            id=\"cancel-form\"\n            onClick={handleClick}\n          >\n            Cancel\n          </button>\n        ) : null}\n        <button className=\"button-filled\" onClick={handleSubmit}>\n          {edit ? \"Edit\" : \"Comment\"}\n        </button>\n      </div>\n    </form>\n  ) : (\n    <div className=\"no-user-box\">\n      <span>Log in or sign up to leave a comment</span>\n      <div className=\"nav-buttons\">\n        <Link to=\"/signup\" className=\"button-outline nav-button\">\n          Sign Up\n        </Link>\n        <Link to=\"/login\" className=\"button-filled nav-button\">\n          Log In\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default CommentForm;\n","import CommentForm from \"../CommentForm\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { Link } from \"react-router-dom\";\nimport Score from \"../Score\";\nimport Alert from \"../Alert\";\nimport moment from \"moment\";\nimport { Message } from \"@styled-icons/entypo\";\nimport { fetchPutData, fetchDeleteData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport \"./Comment.css\";\n\nconst Comment = ({\n  comment,\n  post,\n  refreshPost,\n  layer,\n  handleRemove,\n  children,\n}) => {\n  const flash = useFlash();\n  const auth = useAuth();\n  const [openForm, setOpenForm] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [score, setScore] = useState(comment.score);\n  const [showAlert, setShowAlert] = useState(false);\n\n  const handleClick = (e) => {\n    if (e.target.name === \"delete\") {\n      toggleAlert();\n    } else {\n      if (e.target.name === \"edit\") {\n        setEdit(true);\n      }\n      if (openForm) {\n        setOpenForm(false);\n        setEdit(false);\n      } else {\n        setOpenForm(true);\n      }\n    }\n  };\n\n  const handleDelete = async () => {\n    const url = `${baseUrl}/api/s/${\n      post ? post.sub._id : comment.post.sub\n    }/posts/${post ? post._id : comment.post._id}/comments/${\n      comment._id\n    }/delete`;\n    const response = await fetchDeleteData(url, auth.token);\n    console.log(response);\n    if (response.ok) {\n      handleRemove ? handleRemove(comment._id) : refreshPost();\n      flash.changeMessage(\"Comment Deleted\");\n    } else {\n      flash.changeMessage(\"Oops! Something went wrong!\");\n    }\n  };\n\n  const handleDeleteProposal = (confirm) => {\n    confirm ? handleDelete() : toggleAlert();\n  };\n\n  const toggleAlert = () => {\n    showAlert ? setShowAlert(false) : setShowAlert(true);\n  };\n\n  const handleScoreChange = (direction, increment) => {\n    setScore((old) => (old += increment));\n    if (direction === \"up\") {\n      castVote(true);\n    } else if (direction === \"down\") {\n      castVote(false);\n    } else {\n      castVote(null);\n    }\n  };\n\n  const castVote = async (value) => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/comments/${comment._id}/vote`;\n    await fetchPutData(url, { value }, auth.token);\n  };\n\n  return (\n    <div className={comment.parent ? \"comment-reply\" : \"comment-container\"}>\n      {showAlert ? (\n        <Alert\n          title=\"Delete Comment\"\n          message=\"Are you sure you want to delete this comment?\"\n          onSubmit={handleDeleteProposal}\n        />\n      ) : null}\n      <div className=\"comment\">\n        {comment.author ? (\n          <Score\n            score={score}\n            item={comment}\n            type=\"comment\"\n            handleChoice={handleScoreChange}\n          />\n        ) : null}\n        <article>\n          <header className=\"card-header\">\n            {comment.author ? (\n              <Link\n                className=\"header-item profile-link\"\n                to={`/users/${comment.author.username}`}\n              >\n                {comment.author.username}\n              </Link>\n            ) : (\n              <span className=\"header-item\">[deleted]</span>\n            )}\n            <span className=\"header-item\">\n              {score === 1 ? score + \" point\" : score + \" points\"}\n            </span>\n            <span className=\"header-item\">\n              - {moment(comment.dateCreated).startOf(\"hour\").fromNow()}\n            </span>\n            {comment.dateEdited ? (\n              <span className=\"header-item edited-item\">\n                edited {moment(comment.dateEdited).startOf(\"hour\").fromNow()}\n              </span>\n            ) : null}\n          </header>\n          <main className=\"card-main\">\n            <span>{comment.content ? comment.content : \"[deleted]\"}</span>\n          </main>\n          {auth.user && comment.author ? (\n            <footer className=\"card-footer\">\n              {layer < 6 ? (\n                <button onClick={handleClick} className=\"footer-item\">\n                  <Message className=\"reply-bubble\" />\n                  Reply\n                </button>\n              ) : null}\n              {auth.user && auth.user._id === comment.author._id ? (\n                <div className=\"footer-button-container\">\n                  <button\n                    className=\"footer-item\"\n                    name=\"edit\"\n                    onClick={handleClick}\n                  >\n                    Edit\n                  </button>\n                  <button\n                    className=\"footer-item\"\n                    name=\"delete\"\n                    onClick={handleClick}\n                  >\n                    Delete\n                  </button>\n                </div>\n              ) : null}\n            </footer>\n          ) : null}\n          {openForm ? (\n            <CommentForm\n              post={post}\n              parentComment={comment}\n              refreshPost={refreshPost}\n              handleForm={handleClick}\n              edit={edit}\n            />\n          ) : null}\n        </article>\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default Comment;\n","import \"./CommentIndex.css\";\nimport Comment from \"../Comment\";\nimport CommentForm from \"../CommentForm\";\n\nconst CommentIndex = ({ comments, post, refreshPost }) => {\n  const renderAllComments = (comments, layer) => {\n    return comments.map((comment) => (\n      <Comment\n        key={comment._id}\n        comment={comment}\n        post={post}\n        refreshPost={refreshPost}\n        layer={layer}\n      >\n        {comment.replies ? renderAllComments(comment.replies, layer + 1) : null}\n      </Comment>\n    ));\n  };\n\n  return (\n    <div id=\"comments-container\">\n      <h3>Leave A Comment</h3>\n      <div>\n        <CommentForm post={post} refreshPost={refreshPost} />\n      </div>\n      <div id=\"comments-index\">\n        {comments ? renderAllComments(comments, 1) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentIndex;\n","import \"./PostDetails.css\";\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchGetData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport CommentIndex from \"../CommentIndex\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\n\nconst PostDetails = () => {\n  const { subID, postID } = useParams();\n  const [post, setPost] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}`\n      );\n      setPost(response.post);\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [postID, subID]);\n\n  const refreshPost = async () => {\n    setIsLoading(true);\n    const response = await fetchGetData(\n      `${baseUrl}/api/s/${subID}/posts/${postID}`\n    );\n    setPost(response.post);\n    setIsLoading(false);\n  };\n\n  return (\n    <div>\n      {isLoading ? (\n        <Loader />\n      ) : post ? (\n        <div className=\"post-details-container\">\n          <div className=\"post-details\">\n            <Post post={post} />\n            <CommentIndex\n              comments={post.comments}\n              post={post}\n              refreshPost={refreshPost}\n            />\n          </div>\n          <Sidebar sub={post.sub} />\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Input, Form } from \"../FormComponents\";\n\nconst schema = yup.object().shape({\n  username: yup\n    .string()\n    .required(\"A username is required\")\n    .min(3, \"Usernames must be between 3-20 characters in length\")\n    .max(20, \"Usernames must be between 3-20 characters in length\")\n    .trim()\n    .matches(/^[_a-zA-Z0-9]*$/, {\n      message: \"cannot contain special characters or spaces\",\n    }),\n  password: yup.string().required(\"Password is required\").min(6).max(40),\n  password2: yup\n    .string()\n    .required(\"Please re-enter password\")\n    .oneOf([yup.ref(\"password\"), null], \"Passwords must match\"),\n  email: yup\n    .string()\n    .required(\"An email is required\")\n    .email(\"Must be a valid email\"),\n});\n\nconst SignupForm = () => {\n  const [error, setError] = useState(null);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    const { username, password, email } = data;\n    try {\n      const response = await auth.signup(username, password, email);\n      if (response.user) {\n        flash.changeMessage(\"Account created successfully! Please log in.\");\n        history.push(\"/login\");\n      } else if (response.errors) {\n        console.log(response);\n        setError(response.errors[0].msg);\n      } else {\n        setError(\"Something went wrong.\");\n      }\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title=\"Sign Up\"\n      error={error}\n      art=\"2\"\n      button=\"Create Account\"\n    >\n      <Input\n        name=\"username\"\n        label=\"Username\"\n        type=\"text\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.username ? errors.username.message : null}\n      />\n      <Input\n        name=\"email\"\n        label=\"Email\"\n        type=\"text\"\n        placeholder=\"example@example.com\"\n        ref={register}\n        error={errors.email ? errors.email.message : null}\n      />\n      <Input\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.password ? errors.password.message : null}\n      />\n      <Input\n        name=\"password2\"\n        label=\"Confirm Password\"\n        type=\"password\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.password2 ? errors.password2.message : null}\n      />\n    </Form>\n  );\n};\n\nexport default SignupForm;\n","import { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Form, Input } from \"../FormComponents\";\n\nconst schema = yup.object().shape({\n  username: yup.string().required().min(3).max(20).trim(),\n  password: yup.string().required().min(6).max(40).trim(),\n});\n\nconst LoginForm = () => {\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  let location = useLocation();\n  let { from } = location.state || { from: { pathname: \"/\" } };\n  const auth = useAuth();\n  const flash = useFlash();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    const { username, password } = data;\n    const response = await auth.login(username, password);\n    if (!response.user) setError(response.message);\n    if (response.user) {\n      history.replace(from);\n      flash.changeMessage(`Welcome back ${response.user.username}`);\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title=\"Log In\"\n      error={error}\n      art=\"2\"\n      button=\"Log In\"\n    >\n      <Input\n        name=\"username\"\n        label=\"Username\"\n        type=\"text\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.username ? errors.username.message : null}\n      />\n      <Input\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        ref={register}\n        error={errors.password ? errors.password.message : null}\n      />\n    </Form>\n  );\n};\n\nexport default LoginForm;\n","import \"./UserProfile.css\";\nimport { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Loader from \"../Loader\";\n// import { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport { fetchGetData } from \"../../api\";\nimport Post from \"../Post\";\nimport Comment from \"../Comment\";\nimport Sidebar from \"../Sidebar\";\nimport { baseUrl } from \"../../config/const\";\n\nconst UserProfile = () => {\n  // const auth = useAuth();\n  const size = useWindowSize();\n  const { username } = useParams() || \"\";\n  const [content, setContent] = useState(\"posts\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/users/${username}`);\n        setUser(response.user);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchData();\n  }, [username]);\n\n  const calcScore = () => {\n    let score = 0;\n    user.posts.forEach((post) => (score += post.score));\n    user.comments.forEach((comment) => (score += comment.score));\n    return score;\n  };\n\n  const handleClick = (e) => {\n    e.target.name === \"posts\" ? setContent(\"posts\") : setContent(\"comments\");\n  };\n\n  const removePost = (id) => {\n    const newPosts = user.posts.filter((post) => post._id !== id);\n    setUser({ ...user, posts: newPosts });\n  };\n\n  const removeComment = (id) => {\n    const newComments = user.comments.filter((comment) => comment._id !== id);\n    setUser({ ...user, comments: newComments });\n  };\n\n  const mapPosts = () => {\n    return user.posts.map((post) => (\n      <Post key={post._id} post={post} link=\"true\" handleRemove={removePost} />\n    ));\n  };\n\n  const mapComments = () => {\n    return user.comments.map((comment) => (\n      <div className=\"comment-box\" key={comment._id}>\n        <div>\n          {comment.post ? (\n            <span>\n              {comment.post.title} posted by {comment.post.author.username}\n            </span>\n          ) : (\n            <span>deleted</span>\n          )}\n        </div>\n        <Comment comment={comment} handleRemove={removeComment} />\n      </div>\n    ));\n  };\n\n  return user ? (\n    <div className=\"user-profile-container\">\n      <nav className=\"profile-nav\">\n        <button\n          onClick={handleClick}\n          name=\"posts\"\n          className=\"type-selection\"\n          style={\n            content === \"posts\" ? { borderBottom: \"2px solid #222\" } : null\n          }\n        >\n          Posts ({user.posts.length})\n        </button>\n        <button\n          onClick={handleClick}\n          name=\"comments\"\n          className=\"type-selection\"\n          style={\n            content === \"comments\" ? { borderBottom: \"2px solid #222\" } : null\n          }\n        >\n          Comments ({user.comments.length})\n        </button>\n      </nav>\n      <div className=\"user-profile-content\">\n        {content === \"posts\" ? mapPosts() : mapComments()}\n      </div>\n      {size.width > 800 ? (\n        <div className=\"user-details\">\n          <Sidebar user={user} score={calcScore()} />\n        </div>\n      ) : null}\n    </div>\n  ) : (\n    <Loader />\n  );\n};\n\nexport default UserProfile;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport \"./SubIndex.css\";\nimport { baseUrl } from \"../../config/const\";\nimport Loader from \"../Loader\";\nimport SubscribeButton from \"../SubscribeButton\";\n\nconst SubIndex = () => {\n  const auth = useAuth();\n\n  const [subs, setSubs] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(`${baseUrl}/api/s/`);\n      setSubs(response.subs);\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, []);\n  return (\n    <div id=\"sub-index-container\">\n      <header id=\"sub-index-header\">\n        <h3 className=\"white-heading\">Browse Communities</h3>\n        <Link to=\"create\" className=\"button-outline nav-button\">\n          Create Community\n        </Link>\n      </header>\n      <div id=\"sub-index\">\n        {isLoading ? (\n          <Loader />\n        ) : subs ? (\n          subs.map((sub) => (\n            <div className=\"sub-preview-large\">\n              <div className=\"preview-name-box\">\n                {\" \"}\n                <div\n                  className=\"sub-circle\"\n                  style={sub.color ? { backgroundColor: sub.color } : null}\n                ></div>\n                <span className=\"sub-name preview-item\">{sub.name}</span>\n              </div>\n\n              {auth.user ? <SubscribeButton subData={sub} /> : null}\n              <Link\n                to={`${sub._id}`}\n                key={sub._id}\n                className=\"sub-preview-link\"\n              />\n            </div>\n          ))\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default SubIndex;\n","import \"./UserForm.css\";\n\nimport { useState } from \"react\";\nimport { fetchPutData } from \"../../api/\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Input, Form } from \"../FormComponents\";\nimport { baseUrl } from \"../../config/const\";\n\nconst passwordSchema = yup.object().shape({\n  oldPassword: yup\n    .string()\n    .required(\"Please enter your old password\")\n    .min(6)\n    .max(40),\n  password: yup.string().required(\"New password is required\").min(6).max(40),\n  password2: yup\n    .string()\n    .required(\"Please re-enter password\")\n    .oneOf([yup.ref(\"password\"), null], \"Passwords must match\"),\n});\n\nconst emailSchema = yup.object().shape({\n  email: yup\n    .string()\n    .required(\"An email is required\")\n    .email(\"Must be a valid email\"),\n});\n\nconst UserForm = ({ email }) => {\n  const [error, setError] = useState(null);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: email ? yupResolver(emailSchema) : yupResolver(passwordSchema),\n  });\n\n  const onSubmit = (data) => {\n    console.log(data);\n    email ? updateEmail(data) : updatePassword(data);\n  };\n\n  const updatePassword = async (data) => {\n    const { oldPassword, password, password2 } = data;\n    const url = `${baseUrl}/api/users/${auth.user.username}/update_password`;\n    try {\n      const response = await fetchPutData(\n        url,\n        { oldPassword, password, password2 },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(\"Password successfully updated\");\n        history.push(`/users/${auth.user.username}`);\n      } else {\n        const data = await response.json();\n        if (data.errors) {\n          setError(data.errors[0].msg);\n        }\n        console.log({ response, data });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateEmail = async (data) => {\n    const { email } = data;\n    const url = `${baseUrl}/api/users/${auth.user.username}/update_email`;\n    try {\n      const response = await fetchPutData(url, { email }, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Email successfully updated\");\n        history.push(`/users/${auth.user.username}`);\n      } else {\n        const data = await response.json();\n        if (data.errors) {\n          setError(data.errors[0].msg);\n        }\n        console.log(response);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const makePasswordForm = () => {\n    return (\n      <Form\n        handleSubmit={handleSubmit(onSubmit)}\n        title=\"Change Password\"\n        error={error}\n        art=\"2\"\n        button=\"Update Password\"\n      >\n        <Input\n          name=\"oldPassword\"\n          label=\"Old Password\"\n          type=\"text\"\n          placeholder=\"\"\n          ref={register}\n          error={errors.oldPassword ? errors.oldPassword.message : null}\n        />\n        <Input\n          name=\"password\"\n          label=\"New Password\"\n          type=\"password\"\n          placeholder=\"\"\n          ref={register}\n          error={errors.password ? errors.password.message : null}\n        />\n        <Input\n          name=\"password2\"\n          label=\"Confirm Password\"\n          type=\"password\"\n          placeholder=\"\"\n          ref={register}\n          error={errors.password2 ? errors.password2.message : null}\n        />\n      </Form>\n    );\n  };\n\n  const makeEmailForm = () => {\n    return (\n      <Form\n        handleSubmit={handleSubmit(onSubmit)}\n        title=\"Change Email Address\"\n        error={error}\n        art=\"2\"\n        button=\"Update Email\"\n      >\n        <Input\n          name=\"email\"\n          label=\"New Email\"\n          type=\"text\"\n          placeholder=\"example@example.com\"\n          ref={register}\n          error={errors.email ? errors.email.message : null}\n        />\n      </Form>\n    );\n  };\n\n  return email ? makeEmailForm() : makePasswordForm();\n};\n\nexport default UserForm;\n","import \"./Flash.css\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\n\nconst Flash = () => {\n  const flash = useFlash();\n\n  return flash.showMessage ? (\n    <div className=\"flash-container\">\n      <aside className=\"blue-bar\"></aside>\n      <span className=\"flash-message\">{flash.message}</span>\n    </div>\n  ) : null;\n};\n\nexport default Flash;\n","import { useAuth } from \"../../hooks/use-auth\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRoute = ({ children, ...rest }) => {\n  let auth = useAuth();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        auth.user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport { ProvideAuth } from \"../../hooks/use-auth\";\nimport { ProvideFlash } from \"../../hooks/use-flash-message\";\n\nimport Navbar from \"../Navbar\";\nimport Home from \"../Home\";\nimport All from \"../All\";\nimport Sub from \"../Sub\";\nimport PostForm from \"../PostForm\";\nimport SubForm from \"../SubForm\";\nimport PostDetails from \"../PostDetails\";\nimport SignupForm from \"../SignupForm\";\nimport LoginForm from \"../LoginForm\";\nimport UserProfile from \"../UserProfile\";\nimport SubIndex from \"../SubIndex\";\nimport UserForm from \"../UserForm\";\nimport Flash from \"../Flash\";\nimport PrivateRoute from \"../PrivateRoute\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ProvideAuth>\n        <ProvideFlash>\n          <Flash />\n          <Router>\n            <Navbar />\n            <main id=\"main-container\">\n              <Switch>\n                <PrivateRoute path=\"/users/:username/update_email\">\n                  <UserForm email={true} />\n                </PrivateRoute>\n                <PrivateRoute path=\"/users/:username/update_password\">\n                  <UserForm />\n                </PrivateRoute>\n                <Route path=\"/users/:username\">\n                  <UserProfile />\n                </Route>\n                <PrivateRoute path=\"/s/:subID/update\">\n                  <SubForm edit={true} />\n                </PrivateRoute>\n                <PrivateRoute path=\"/s/:subID/posts/:postID/update\">\n                  <PostForm edit={true} />\n                </PrivateRoute>\n                <Route path=\"/s/:subID/posts/:postID\">\n                  <PostDetails />\n                </Route>\n                <PrivateRoute path=\"/s/:subID/submit\">\n                  <PostForm />\n                </PrivateRoute>\n                <PrivateRoute path=\"/s/create\">\n                  <SubForm />\n                </PrivateRoute>\n                <Route path=\"/s/browse\">\n                  <SubIndex />\n                </Route>\n                <Route path=\"/s/all\">\n                  <All />\n                </Route>\n                <Route path=\"/s/:subID\">\n                  <Sub />\n                </Route>\n                <PrivateRoute path=\"/submit\">\n                  <PostForm />\n                </PrivateRoute>\n                <Route path=\"/login\">\n                  <LoginForm />\n                </Route>\n                <Route path=\"/signup\">\n                  <SignupForm />\n                </Route>\n                <PrivateRoute path=\"/home\">\n                  <Home />\n                </PrivateRoute>\n                <Route path=\"/\">\n                  <Home />\n                </Route>\n              </Switch>\n            </main>\n          </Router>\n        </ProvideFlash>\n      </ProvideAuth>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
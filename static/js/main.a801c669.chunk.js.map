{"version":3,"sources":["api/index.js","config/const.js","hooks/use-auth.js","hooks/use-flash-message.js","components/SidenavItem/SidenavItem.js","components/Sidenav/Sidenav.js","components/Navbar/Navbar.js","hooks/use-window-size.js","components/Score/Score.js","components/Post/Post.js","components/SidebarItem/SidebarItem.js","components/Sidebar/Sidebar.js","components/Loader/Loader.js","components/Home/Home.js","components/All/All.js","components/SubscribeButton/SubscribeButton.js","components/SubHeader/SubHeader.js","components/Sub/Sub.js","components/FormComponents/Input/Input.js","components/FormComponents/Form/Form.js","components/FormComponents/Textarea/Textarea.js","components/FormComponents/Select/Select.js","components/PostForm/PostForm.js","components/SubForm/SubForm.js","components/CommentForm/CommentForm.js","components/Comment/Comment.js","components/CommentIndex/CommentIndex.js","components/PostDetails/PostDetails.js","components/SignupForm/SignupForm.js","components/LoginForm/LoginForm.js","components/UserProfile/UserProfile.js","components/SubIndex/SubIndex.js","components/Flash/Flash.js","components/PrivateRoute/PrivateRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["fetchGetData","url","a","token","fetch","method","headers","Authorization","response","json","data","console","log","fetchPostData","body","JSON","stringify","fetchPutData","error","fetchDeleteData","baseUrl","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","setToken","storeVotes","votes","forEach","vote","value","id","post","comment","localStorage","setItem","login","username","password","signup","email","logout","clear","subscribe","sub","subscriptions","unsubscribe","newSubs","filter","s","useEffect","useProvideAuth","Provider","useAuth","useContext","flashContext","ProvideFlash","flash","message","setMessage","showMessage","setShowMessage","changeMessage","newMessage","setTimeout","useProvideFlash","useFlash","SidenavItem","onClick","href","title","to","className","Sidenav","subs","setSubs","showSidenav","setShowSidenav","fetchData","handleClick","createData","length","map","_id","name","style","color","backgroundColor","Navbar","history","useHistory","push","useWindowSize","width","undefined","height","windowSize","setWindowSize","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Score","score","item","type","handleChoice","getItem","choice","setChoice","e","t","currentTarget","changeChoice","increment","removeItem","Post","link","handleRemove","setScore","confirm","ok","handleScoreChange","direction","old","castVote","author","moment","dateCreated","startOf","fromNow","dateEdited","src","match","youtubeParser","content","frameborder","allow","allowfullscreen","alt","commentCount","SidebarItem","heading","footing","Sidebar","size","shuffleArray","array","i","j","Math","floor","random","temp","slice","dateJoined","format","description","pathname","state","subID","Loader","Home","posts","setPosts","fetchUserData","fetchAllData","removePost","newPosts","All","SubscribeButton","subData","userSubscribed","setUserSubscribed","some","changeSubscription","onMouseOver","target","textContent","onMouseLeave","SubHeader","creator","Sub","useParams","setData","isLoading","setIsLoading","Input","React","forwardRef","ref","label","rest","htmlFor","Form","handleSubmit","art","button","onSubmit","Textarea","placeholder","Select","defaultValue","optionsArray","option","PostForm","edit","location","useLocation","postID","setType","setError","useForm","resolver","yupResolver","yup","shape","required","min","max","trim","image","video","matches","shouldUnregister","register","errors","setValue","shouldValidate","createPost","updatePost","changeType","SubForm","getSubData","createSub","msg","updateSub","disabled","schema","CommentForm","props","parentComment","refreshPost","handleForm","parent","createComment","updateComment","preventDefault","Comment","layer","openForm","setOpenForm","setEdit","handleDelete","CommentIndex","comments","renderAllComments","replies","PostDetails","setPost","SignupForm","LoginForm","from","replace","UserProfile","setContent","removeComment","newComments","borderBottom","calcScore","SubIndex","Flash","PrivateRoute","render","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a801c669.chunk.js","sourcesContent":["const fetchGetData = async (url, token = \"\") => {\n  try {\n    const response = await fetch(url, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchPostData = async (url, body, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"post\",\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchPutData = async (url, body, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"put\",\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.log({ error: err });\n  }\n};\n\nconst fetchDeleteData = async (url, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"delete\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst createPost = async (body, token) => {\n  const response = await fetchPostData(\n    `http://localhost:3000/api/s/${body.sub}/posts/create`,\n    body,\n    token\n  );\n  return response;\n};\n\nexport {\n  fetchGetData,\n  fetchPostData,\n  fetchPutData,\n  fetchDeleteData,\n  createPost,\n};\n","export const baseUrl =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:5000\"\n    : \"https://api-reddit-clone.herokuapp.com\";\n","import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport { fetchPostData } from \"../api\";\nimport { baseUrl } from \"../config/const\";\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n\n  const storeVotes = (votes) => {\n    votes.forEach((vote) => {\n      let data = {};\n      if (vote.value === true || vote.value === false) {\n        data.id = vote.post ? vote.post : vote.comment;\n        data.value = vote.value ? \"up\" : \"down\";\n        localStorage.setItem(data.id, data.value);\n      }\n    });\n  };\n\n  const login = async (username, password) => {\n    try {\n      const response = await fetchPostData(`${baseUrl}/api/users/login`, {\n        username,\n        password,\n      });\n      if (!response.user) {\n        return response;\n      } else if (response.user) {\n        storeVotes(response.votes);\n        setUser(response.user);\n        setToken(response.token);\n        return { user: response.user };\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const signup = async (username, password, email) => {\n    try {\n      const response = await fetchPostData(`${baseUrl}/api/users/create`, {\n        username,\n        password,\n        email,\n      });\n      return response;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.clear();\n  };\n\n  const subscribe = (sub) => {\n    setUser({ ...user, subscriptions: [...user.subscriptions, sub] });\n  };\n\n  const unsubscribe = (sub) => {\n    const newSubs = user.subscriptions.filter((s) => s !== sub);\n    setUser({ ...user, subscriptions: newSubs });\n  };\n\n  useEffect(() => {\n    const unsubscribe = (user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n    };\n\n    return () => unsubscribe();\n  }, []);\n\n  return {\n    user,\n    token,\n    login,\n    signup,\n    logout,\n    subscribe,\n    unsubscribe,\n  };\n}\n","import React, { useState, useContext, createContext } from \"react\";\n\nconst flashContext = createContext();\n\nexport function ProvideFlash({ children }) {\n  const flash = useProvideFlash();\n  return (\n    <flashContext.Provider value={flash}>{children}</flashContext.Provider>\n  );\n}\n\nexport const useFlash = () => {\n  return useContext(flashContext);\n};\n\nfunction useProvideFlash() {\n  const [message, setMessage] = useState(null);\n  const [showMessage, setShowMessage] = useState(false);\n\n  const changeMessage = (newMessage) => {\n    setMessage(newMessage);\n    setShowMessage(true);\n    setTimeout(() => {\n      setShowMessage(false);\n    }, 5000);\n  };\n\n  // useEffect(() => {\n\n  // }, [message, showMessage]);\n\n  return {\n    message,\n    showMessage,\n    changeMessage,\n  };\n}\n","import \"./SidenavItem.css\";\nimport { Link } from \"react-router-dom\";\n\nconst SidenavItem = ({ data, children }) => {\n  const { onClick, href, title } = data;\n\n  return (\n    <Link to={href} className=\"sidenav-item\" onClick={onClick}>\n      {children}\n      <span className=\"sidenav-item-heading\">{title}</span>\n    </Link>\n  );\n};\n\nexport default SidenavItem;\n","import \"./Sidenav.css\";\n\n// functions\nimport { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { baseUrl } from \"../../config/const\";\n\n//components\nimport SidenavItem from \"../SidenavItem\";\n\n//icons\n// import { SpaceShip } from \"@styled-icons/remix-fill\";\nimport { TrendingUp, CreateNewFolder } from \"@styled-icons/material\";\nimport { Home } from \"@styled-icons/boxicons-solid\";\nimport { World } from \"@styled-icons/boxicons-regular\";\nimport { User } from \"@styled-icons/fa-solid\";\nimport { Menu, Close } from \"@styled-icons/evaicons-solid\";\nimport { Create } from \"@styled-icons/ionicons-solid\";\n\nconst Sidenav = ({ logout }) => {\n  const auth = useAuth();\n  const [subs, setSubs] = useState(null);\n  const [showSidenav, setShowSidenav] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetchGetData(\n          `${baseUrl}/api/s/user`,\n          auth.token\n        );\n        setSubs(response.subs);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    auth.token ? fetchData() : setSubs(null);\n  }, [auth.token, showSidenav]);\n\n  const handleClick = () => {\n    showSidenav ? setShowSidenav(false) : setShowSidenav(true);\n  };\n\n  const createData = (href, title) => {\n    return {\n      href,\n      title,\n      onClick: handleClick,\n    };\n  };\n\n  return (\n    <div id=\"nav-subs\">\n      <button id=\"sub-nav-button\" onClick={handleClick}>\n        <Menu className=\"menu-icon\" />\n        <span className=\"sidenav-button-text\">Menu</span>\n      </button>\n      {showSidenav ? (\n        <div>\n          <div id=\"sidenav-overlay\" onClick={handleClick}></div>\n\n          <div\n            id=\"sub-sidenav\"\n            className={showSidenav ? \"sidenav-show\" : \"sidenav-hide\"}\n          >\n            <header className=\"sidenav-profile-header\">\n              <h5 className=\"sidenav-username\">{auth.user.username}</h5>\n              <button className=\"close-button\" onClick={handleClick}>\n                <Close className=\"close-button-icon\" />\n              </button>\n            </header>\n            <div className=\"sidenav-section\">\n              <SidenavItem\n                data={createData(`/users/${auth.user.username}`, \"Profile\")}\n              >\n                <User className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/\", \"Home\")}>\n                <Home className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/all\", \"All\")}>\n                <World className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/browse\", \"Browse Communities\")}>\n                <TrendingUp className=\"sidenav-item-icon\" />\n              </SidenavItem>\n            </div>\n            <div className=\"sidenav-section\">\n              <h6 className=\"sidenav-heading\">My Communities</h6>\n              {subs.length > 0\n                ? subs.map((sub) => (\n                    <SidenavItem\n                      key={sub._id}\n                      data={createData(`/s/${sub._id}`, sub.name)}\n                    >\n                      <div\n                        className=\"sidenav-item-circle\"\n                        style={\n                          sub.color ? { backgroundColor: sub.color } : null\n                        }\n                      ></div>\n                    </SidenavItem>\n                  ))\n                : null}\n            </div>\n            <div className=\"sidenav-section\">\n              <h6 className=\"sidenav-heading\">Other</h6>\n              <SidenavItem data={createData(\"/submit\", \"Create Post\")}>\n                <Create className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/create\", \"Create Community\")}>\n                <CreateNewFolder className=\"sidenav-item-icon\" />\n              </SidenavItem>\n            </div>\n            <div className=\"sidenav-button-box\">\n              <button className=\"button-outline logout-button\" onClick={logout}>\n                Logout\n              </button>\n            </div>\n            <div className=\"blue-box\"></div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Sidenav;\n","import \"./Navbar.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Sidenav from \"../Sidenav\";\nimport { useAuth } from \"../../hooks/use-auth\";\n\nconst Navbar = () => {\n  const auth = useAuth();\n  const history = useHistory();\n\n  const handleLogout = () => {\n    auth.logout();\n    history.push(\"/\");\n  };\n\n  return (\n    <div id=\"nav-container\">\n      <nav id=\"top-nav\">\n        <Link to=\"/\" id=\"nav-brand\">\n          S/eddit\n        </Link>\n        <div id=\"nav-sub-container\">\n          {auth.user ? (\n            <Sidenav logout={handleLogout} />\n          ) : (\n            <div className=\"nav-buttons\">\n              <Link to=\"/signup\" className=\"button-outline nav-button\">\n                Sign Up\n              </Link>\n              <Link to=\"/login\" className=\"button-filled nav-button\">\n                Log In\n              </Link>\n            </div>\n          )}\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import { useState, useEffect } from \"react\";\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n","import { ArrowUp, ArrowDown } from \"@styled-icons/entypo\";\nimport { useState } from \"react\";\nimport \"./Score.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\n\nconst Score = ({ score, item, type, handleChoice }) => {\n  const auth = useAuth();\n  const [choice, setChoice] = useState(\n    auth.user ? localStorage.getItem(item._id) : null\n  );\n\n  const handleClick = (e) => {\n    const t = e.currentTarget.name;\n    let increment = 0;\n    if (choice && choice === t) {\n      increment = t === \"up\" ? -1 : 1;\n      changeChoice(null, increment);\n    } else {\n      if (choice && choice !== t) {\n        increment = t === \"up\" ? 2 : -2;\n      } else {\n        increment = t === \"up\" ? 1 : -1;\n      }\n      changeChoice(t, increment);\n    }\n  };\n\n  const changeChoice = (t, increment) => {\n    setChoice(t);\n    t === null\n      ? localStorage.removeItem(item._id)\n      : localStorage.setItem(item._id, t);\n    handleChoice(t, increment);\n  };\n\n  return (\n    <div className={type === \"post\" ? \"post-score-box\" : \"score-box\"}>\n      <button\n        name=\"up\"\n        onClick={auth.user ? handleClick : null}\n        className=\"invis-button\"\n      >\n        <ArrowUp\n          className=\"score-arrow up-arrow\"\n          style={choice === \"up\" ? { color: \"var(--orange)\" } : null}\n        />\n      </button>\n      {type === \"post\" ? <span className=\"score-number\">{score}</span> : null}\n      <button\n        name=\"down\"\n        onClick={auth.user ? handleClick : null}\n        className=\"invis-button\"\n      >\n        <ArrowDown\n          className=\"score-arrow down-arrow\"\n          style={choice === \"down\" ? { color: \"var(--blue)\" } : null}\n        />\n      </button>\n    </div>\n  );\n};\n\nexport default Score;\n","import \"./Post.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Message } from \"@styled-icons/entypo\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport moment from \"moment\";\nimport Score from \"../Score\";\nimport { useState } from \"react\";\nimport { fetchPutData, fetchDeleteData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Post = ({ post, link, handleRemove }) => {\n  const [score, setScore] = useState(post.score);\n  const flash = useFlash();\n  const auth = useAuth();\n  const windowSize = useWindowSize();\n  const history = useHistory();\n\n  const handleClick = async (e) => {\n    let result = window.confirm(\"Are you sure you want to delete this post?\");\n    if (result) {\n      const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/delete`;\n      const response = await fetchDeleteData(url, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Post deleted successfully!\");\n        handleRemove ? handleRemove(post._id) : history.push(\"/\");\n      } else {\n        console.log(\"Not Okay.\");\n      }\n    }\n  };\n\n  const handleScoreChange = (direction, increment) => {\n    setScore((old) => (old += increment));\n    if (direction === \"up\") {\n      castVote(true);\n    } else if (direction === \"down\") {\n      castVote(false);\n    } else {\n      castVote(null);\n    }\n  };\n\n  const castVote = async (value) => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/vote`;\n    const response = await fetchPutData(url, { value }, auth.token);\n    console.log(response);\n  };\n\n  const youtubeParser = (url) => {\n    var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n    var match = url.match(regExp);\n    return match && match[7].length === 11 ? match[7] : false;\n  };\n\n  return (\n    <div className=\"post-container\">\n      {windowSize.width > 800 ? (\n        <Score\n          score={score}\n          item={post}\n          type=\"post\"\n          handleChoice={handleScoreChange}\n        />\n      ) : null}\n      <article>\n        <header className=\"card-header\">\n          <Link to={`/s/${post.sub._id}`} className=\"header-item sub-link\">\n            {post.sub.name}\n          </Link>\n          <span className=\"header-item\">Posted by</span>\n          {post.author ? (\n            <Link\n              to={`/users/${post.author.username}`}\n              className=\"header-item profile-link\"\n            >\n              {post.author.username}\n            </Link>\n          ) : (\n            \"[Deleted]\"\n          )}\n          <span className=\"header-item\">\n            {moment(post.dateCreated).startOf(\"hour\").fromNow()}\n          </span>\n          {post.dateEdited ? (\n            <span className=\"header-item edited-item\">\n              edited {moment(post.dateEdited).startOf(\"hour\").fromNow()}\n            </span>\n          ) : null}\n        </header>\n        <main className=\"card-main\">\n          <h2 className=\"post-title\">{post.title}</h2>\n          {post.type === \"video\" ? (\n            <iframe\n              title={post.title}\n              className=\"post-content-video\"\n              width=\"806\"\n              height=\"453\"\n              src={`https://www.youtube.com/embed/${youtubeParser(\n                post.content\n              )}`}\n              frameborder=\"0\"\n              allow=\"clipboard-write; encrypted-media;\"\n              allowfullscreen\n            ></iframe>\n          ) : post.type === \"link\" ? (\n            <div>\n              {\" \"}\n              <a className=\"post-content-link\" href={post.content}>\n                {post.content}\n              </a>\n            </div>\n          ) : post.type === \"image\" ? (\n            <img\n              className=\"post-image\"\n              alt=\"Post Image\"\n              src={post.content}\n            ></img>\n          ) : (\n            <p className=\"post-content\">{post.content}</p>\n          )}\n        </main>\n        <footer className=\"card-footer\">\n          {windowSize.width < 800 ? (\n            <Score\n              score={score}\n              item={post}\n              type=\"post\"\n              handleChoice={handleScoreChange}\n            />\n          ) : null}\n          <span className=\"footer-item footer-reply\">\n            <Message className=\"reply-bubble\" />\n            {post.commentCount === 1\n              ? \"1 Comment\"\n              : post.commentCount + \" Comments\"}\n          </span>\n          {auth.user && auth.user._id === post.author._id ? (\n            <Link\n              to={`/s/${post.sub._id}/posts/${post._id}/update`}\n              className=\"footer-item\"\n            >\n              Edit\n            </Link>\n          ) : null}\n          {auth.user && auth.user._id === post.author._id ? (\n            <button className=\"footer-item\" name=\"delete\" onClick={handleClick}>\n              Delete\n            </button>\n          ) : null}\n        </footer>\n      </article>\n      {link ? (\n        <Link\n          to={`/s/${post.sub._id}/posts/${post._id}`}\n          className=\"post-link\"\n        ></Link>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Post;\n","import \"./SidebarItem.css\";\n\nconst SidebarItem = ({ heading, color, children, footing }) => {\n  return (\n    <div className=\"sidebar-item\">\n      <header\n        className=\"sidebar-item-header\"\n        style={color ? { backgroundColor: color } : null}\n      >\n        <h2 className=\"heading-white\">{heading}</h2>\n      </header>\n      <main className=\"sidebar-item-main\">{children}</main>\n      {footing ? (\n        <footer className=\"sidebar-item-footer\">{footing}</footer>\n      ) : null}\n    </div>\n  );\n};\n\nexport default SidebarItem;\n","import \"./Sidebar.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { fetchGetData } from \"../../api\";\nimport SidebarItem from \"../SidebarItem\";\nimport moment from \"moment\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Sidebar = ({ sub, user, score }) => {\n  const auth = useAuth();\n  const size = useWindowSize();\n  const [subs, setSubs] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/`);\n      shuffleArray(response.subs);\n      setSubs(response.subs.slice(0, 5));\n    };\n\n    fetchData();\n  }, [sub]);\n\n  function shuffleArray(array) {\n    for (var i = array.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n  }\n\n  const subSidebar = () => {\n    return (\n      <div id=\"sidebar-container\">\n        <SidebarItem\n          color={sub ? sub.color : null}\n          heading=\"About Community\"\n          footing={\n            sub.dateCreated\n              ? \"Created: \" + moment(sub.dateCreated).format(\"MMMM Do YYYY\")\n              : null\n          }\n        >\n          <p>{sub.description}</p>\n        </SidebarItem>\n        {auth.user ? (\n          <SidebarItem heading=\"Create Content\" color={sub ? sub.color : null}>\n            <div className=\"button-box\">\n              <Link\n                to={{ pathname: \"/submit\", state: { subID: sub._id } }}\n                className=\"button-filled\"\n              >\n                Create Post\n              </Link>\n              <Link to=\"/s/create\" className=\"button-outline\">\n                Create Community\n              </Link>\n            </div>\n          </SidebarItem>\n        ) : null}\n        <SidebarItem\n          color={sub ? sub.color : null}\n          heading=\"Other Communities\"\n          footing={\n            <div className=\"button-box\">\n              <Link className=\"button-filled\" to=\"/s/browse\">\n                All Communities\n              </Link>\n            </div>\n          }\n        >\n          {subs\n            ? subs.map((sub) => (\n                <div className=\"sub-preview\" key={sub._id}>\n                  <div className=\"small-sub-image sub-image\"></div>\n                  {sub.name}\n                  <Link\n                    to={`/s/${sub._id}`}\n                    key={sub._id}\n                    className=\"sub-preview-link\"\n                  />\n                </div>\n              ))\n            : null}\n        </SidebarItem>\n      </div>\n    );\n  };\n\n  const userSidebar = () => {\n    return (\n      <div id=\"sidebar-container\">\n        <SidebarItem heading={<div className=\"profile-picture\"></div>}>\n          <h2>{user.username}</h2>\n          <div className=\"user-stats\">\n            <div className=\"user-stat-group\">\n              <h5 className=\"user-stat-label\">Score</h5>\n              <span className=\"user-stat\">{score}</span>\n            </div>\n            <div className=\"user-stat-group\">\n              <h5 className=\"user-stat-label\">Date Joined</h5>\n              <span className=\"user-stat\">\n                {moment(user.dateJoined).format(\"MMMM DD YYYY\")}\n              </span>\n            </div>\n          </div>\n        </SidebarItem>\n        {auth.user ? (\n          <SidebarItem heading=\"Create Content\">\n            <div className=\"button-box\">\n              <Link to=\"/submit\" className=\"button-filled\">\n                Create Post\n              </Link>\n              <Link to=\"/s/create\" className=\"button-outline\">\n                Create Community\n              </Link>\n            </div>\n          </SidebarItem>\n        ) : null}\n      </div>\n    );\n  };\n\n  return size.width > 950 ? (user ? userSidebar() : subSidebar()) : null;\n};\n\nexport default Sidebar;\n","import \"./Loader.css\";\n\nconst Loader = () => {\n  return (\n    <div className=\"lds-facebook\">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\nimport { Surprise } from \"@styled-icons/fa-solid\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Home = () => {\n  const auth = useAuth();\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await fetchGetData(\n          `${baseUrl}/api/s/user/posts/home`,\n          auth.token\n        );\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    const fetchAllData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/s/home/posts/`);\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    auth.user ? fetchUserData() : fetchAllData();\n  }, [auth.user, auth.token]);\n\n  const removePost = (id) => {\n    const newPosts = posts.filter((post) => post._id !== id);\n    setPosts(newPosts);\n  };\n\n  return (\n    <div className=\"sub-container\">\n      {posts ? (\n        <main className=\"sub-page\">\n          <div className=\"posts-container\">\n            {posts.length > 0 ? (\n              posts.map((post) => (\n                <Post\n                  key={post._id}\n                  post={post}\n                  link={true}\n                  handleRemove={removePost}\n                />\n              ))\n            ) : (\n              <div className=\"empty-sub\">\n                <h1>Subscribe to communities to get started</h1>\n                <Surprise className=\"empty-sub-icon\" />\n                <Link to=\"/s/browse\" className=\"button-filled\">\n                  Browse Communities\n                </Link>\n              </div>\n            )}\n          </div>\n          <Sidebar\n            sub={\n              auth.user\n                ? {\n                    name: \"Homepage\",\n                    description: \"Your personalized homepage\",\n                  }\n                : {\n                    name: \"All\",\n                    description: \"All the newest posts from every community\",\n                  }\n            }\n          />\n        </main>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\n\nconst All = () => {\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    const fetchAllData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/s/home/posts/`);\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchAllData();\n  }, []);\n\n  return (\n    <div className=\"sub-container\">\n      {posts ? (\n        <main className=\"sub-page\">\n          <div className=\"posts-container\">\n            {posts.map((post) => (\n              <Post key={post._id} post={post} link={true} />\n            ))}\n          </div>\n          <Sidebar\n            sub={{\n              name: \"All\",\n              description:\n                \"This is a collection of all the communities newest posts\",\n            }}\n          />\n        </main>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default All;\n","import { useState, useEffect } from \"react\";\nimport { fetchPutData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport \"./SubscribeButton.css\";\nimport { baseUrl } from \"../../config/const\";\n\nconst SubscribeButton = ({ subData }) => {\n  const auth = useAuth();\n  const flash = useFlash();\n  const [userSubscribed, setUserSubscribed] = useState(null);\n\n  useEffect(() => {\n    const isUserSubscribed = () => {\n      if (auth.user.subscriptions.some((sub) => sub === subData._id)) {\n        setUserSubscribed(true);\n      }\n    };\n    isUserSubscribed();\n  }, [subData, auth.user]);\n\n  const subscribe = async () => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subData._id}/subscribe`,\n        { body: \"\" },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(`Now subscribed to ${subData.name}`);\n        auth.subscribe(subData._id);\n      } else {\n        console.log(\"something went wrong\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const unsubscribe = async () => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subData._id}/unsubscribe`,\n        { body: \"\" },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(`Unsubscribed from ${subData.name}`);\n        auth.unsubscribe(subData._id);\n      } else {\n        console.log(\"something went wrong\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleClick = () => {\n    changeSubscription();\n  };\n\n  const handleMouseOver = (e) => {\n    e.target.textContent = userSubscribed ? \"Leave\" : \"Join?\";\n  };\n\n  const handleMouseLeave = (e) => {\n    e.target.textContent = userSubscribed ? \"Joined\" : \"Join\";\n  };\n\n  const changeSubscription = async () => {\n    if (userSubscribed) {\n      setUserSubscribed(false);\n      await unsubscribe();\n    } else {\n      setUserSubscribed(true);\n      await subscribe();\n    }\n  };\n\n  return (\n    <div className=\"subscribe-button-container\">\n      <button\n        onClick={handleClick}\n        onMouseOver={handleMouseOver}\n        onMouseLeave={handleMouseLeave}\n        className={\n          userSubscribed\n            ? \"button-outline subscribe-button\"\n            : \"button-filled subscribe-button\"\n        }\n      >\n        {userSubscribed ? \"Joined\" : \"Join\"}\n      </button>\n    </div>\n  );\n};\n\nexport default SubscribeButton;\n","import \"./SubHeader.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { Link } from \"react-router-dom\";\nimport SubscribeButton from \"../SubscribeButton\";\nimport { Options2 } from \"@styled-icons/evaicons-solid\";\n\nconst SubHeader = ({ subData }) => {\n  const auth = useAuth();\n  return (\n    <header className=\"sub-header-container\">\n      <div\n        className=\"community-theme\"\n        style={subData.color ? { backgroundColor: subData.color } : null}\n      ></div>\n      <div className=\"lower-header-container\">\n        <div className=\"header-main-container\">\n          <div className=\"sub-image\"></div>\n          <div className=\"header-sub-container\">\n            <div className=\"sub-title-container\">\n              <h1 className=\"sub-title\">{subData.name}</h1>\n            </div>\n            <div className=\"sub-header-buttons\">\n              {auth.user ? <SubscribeButton subData={subData} /> : null}\n              {auth.user && subData.creator === auth.user._id ? (\n                <Link\n                  to={`/s/${subData._id}/update`}\n                  className=\"button-filled nav-button\"\n                >\n                  <Options2 className=\"button-icon\" />\n                </Link>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default SubHeader;\n","import \"./Sub.css\";\nimport { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { fetchGetData } from \"../../api\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport SubHeader from \"../SubHeader\";\nimport Loader from \"../Loader\";\nimport { Surprise } from \"@styled-icons/fa-solid\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Sub = () => {\n  const { subID } = useParams();\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(`${baseUrl}/api/s/${subID}`);\n      setData({ sub: response.sub, posts: response.posts });\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [subID]);\n\n  const removePost = (id) => {\n    const newPosts = data.posts.filter((post) => post._id !== id);\n    setData({ ...data, posts: newPosts });\n  };\n\n  return isLoading ? (\n    <Loader />\n  ) : data ? (\n    <div className=\"sub-container\">\n      <SubHeader subData={data.sub} />\n      <main className=\"sub-page\">\n        <div className=\"posts-container\">\n          {data.posts.length > 0 ? (\n            data.posts.map((post) => (\n              <Post\n                key={post._id}\n                post={post}\n                link=\"true\"\n                handleRemove={removePost}\n              />\n            ))\n          ) : (\n            <div className=\"empty-sub\">\n              <h1>No Posts Yet!</h1>\n              <Surprise className=\"empty-sub-icon\" />\n              <Link\n                to={{ pathname: \"/submit\", state: { subID: data.sub._id } }}\n                className=\"button-filled\"\n              >\n                Create Post\n              </Link>\n            </div>\n          )}\n        </div>\n        <Sidebar sub={data.sub} />\n      </main>\n    </div>\n  ) : null;\n};\n\nexport default Sub;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Input = React.forwardRef(({ name, label, error, ...rest }, ref) => {\n  return (\n    <div className=\"form-group\">\n      <label className=\"form-group-label\" htmlFor={name}>\n        {label}\n      </label>\n      <input\n        className={error ? \"form-group-input-error\" : \"form-group-input\"}\n        name={name}\n        {...rest}\n        ref={ref}\n      />\n      {error ? <span className=\"error\">{error}</span> : null}\n    </div>\n  );\n});\n\nexport default Input;\n","import \"./Form.css\";\n\nconst Form = ({ handleSubmit, title, error, art, button, children }) => {\n  return (\n    <div className=\"form-container\">\n      <div className={`form-art art${art}`}></div>\n      <form className=\"formy-form\" onSubmit={handleSubmit}>\n        <h2 className=\"form-heading\">{title}</h2>\n        {error ? <div className=\"error-block\">{error}</div> : null}\n        {children}\n        <input type=\"submit\" className=\"button-filled\" value={button} />\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Textarea = React.forwardRef(\n  ({ name, label, placeholder, error }, ref) => {\n    return (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor={name}>\n          {label}\n        </label>\n        <textarea\n          className={\n            error ? \"form-group-textarea-error\" : \"form-group-textarea\"\n          }\n          name={name}\n          placeholder={placeholder}\n          ref={ref}\n        ></textarea>\n        {error ? <span className=\"error\">{error}</span> : null}\n      </div>\n    );\n  }\n);\n\nexport default Textarea;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Select = React.forwardRef(\n  ({ name, label, defaultValue, optionsArray, error }, ref) => {\n    return (\n      <div className=\"form-group\">\n        <label htmlFor={name} className=\"form-group-label\">\n          {label}\n        </label>\n        <select name={name} defaultValue={defaultValue} ref={ref}>\n          {optionsArray.map((option) => (\n            <option key={option._id} value={option._id}>\n              {option.name}\n            </option>\n          ))}\n        </select>\n        {error ? <span className=\"error\">{error}</span> : null}\n      </div>\n    );\n  }\n);\n\nexport default Select;\n","import \"./PostForm.css\";\nimport { fetchGetData, fetchPostData, fetchPutData } from \"../../api/index\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { baseUrl } from \"../../config/const\";\nimport { Input, Textarea, Form, Select } from \"../FormComponents\";\n\nconst PostForm = ({ edit }) => {\n  const location = useLocation();\n  console.log(location);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { subID, postID } = useParams() || \"\";\n\n  const [type, setType] = useState(\"text\");\n  const [subs, setSubs] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {}, [type]);\n\n  const makeSchema = () => {\n    return type === \"text\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          content: yup.string().max(2000).trim(),\n        })\n      : type === \"image\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          image: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"Valid URL is required\")\n            .max(100)\n            .min(1)\n            .trim(),\n        })\n      : type === \"video\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          video: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"A link is required\")\n            .matches(\n              /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/,\n              {\n                message: \"Must be a valid YouTube URL\",\n              }\n            )\n            .max(100)\n            .min(1)\n            .trim(),\n        })\n      : yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          link: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"Valid URL is required\")\n            .max(100)\n            .min(1)\n            .trim(),\n        });\n  };\n\n  const { register, handleSubmit, errors, setValue } = useForm({\n    resolver: yupResolver(makeSchema()),\n    shouldUnregister: false,\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/user`, auth.token);\n      setSubs(response.subs);\n    };\n    if (!edit) fetchData();\n  }, [auth.token, edit]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}`\n      );\n      console.log(response);\n      if (response.post.type) {\n        setType(response.post.type);\n      }\n      if (response.post.type && response.post.type === \"video\") {\n        setValue(response.post.type, response.post.content, {\n          shouldValidate: true,\n        });\n      }\n      setValue(\"title\", response.post.title, { shouldValidate: true });\n    };\n    if (edit) {\n      fetchData();\n    }\n  }, [edit, postID, setValue, subID]);\n\n  const onSubmit = (data) => {\n    let { title, sub, content, video, link, image } = data;\n    if (type === \"video\") {\n      data = { title, content: video, type, sub };\n    } else if (type === \"image\") {\n      data = { title, sub, type, content: image };\n    } else if (type === \"link\") {\n      data = { title, sub, type, content: link };\n    } else {\n      data = { title, sub, type, content };\n    }\n    edit ? updatePost(data) : createPost(data);\n  };\n\n  const makeInput = () => {\n    return type === \"text\" ? (\n      <Textarea\n        name=\"content\"\n        label=\"Content\"\n        placeholder=\"optional\"\n        ref={register}\n        error={errors.content ? errors.content.message : null}\n      />\n    ) : type === \"video\" ? (\n      <Input\n        name=\"video\"\n        type=\"text\"\n        label=\"YouTube Video\"\n        placeholder=\"Please include the full url\"\n        ref={register}\n        error={errors.video ? errors.video.message : null}\n      />\n    ) : type === \"link\" ? (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor=\"link\">\n          Link\n        </label>\n        <input\n          className={\n            errors.link ? \"form-group-input-error\" : \"form-group-input\"\n          }\n          name=\"link\"\n          type=\"text\"\n          placeholder=\"Please include the full url\"\n          ref={register}\n        />\n        {errors.link ? (\n          <span className=\"error\">{errors.link.message}</span>\n        ) : null}\n      </div>\n    ) : (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor=\"image\">\n          Image Link\n        </label>\n        <input\n          className={\n            errors.image ? \"form-group-input-error\" : \"form-group-input\"\n          }\n          name=\"image\"\n          type=\"text\"\n          placeholder=\"Please include the full url\"\n          ref={register}\n        />\n        {errors.image ? (\n          <span className=\"error\">{errors.image.message}</span>\n        ) : null}\n      </div>\n    );\n  };\n\n  const createPost = async (data) => {\n    const response = await fetchPostData(\n      `${baseUrl}/api/s/${subID}/posts/create`,\n      data,\n      auth.token\n    );\n    if (response.post) {\n      flash.changeMessage(response.message);\n      history.push(`/s/${data.sub}/posts/${response.post._id}`);\n    } else {\n      setError(\"Something went wrong\");\n    }\n  };\n\n  const updatePost = async (data) => {\n    try {\n      const url = `${baseUrl}/api/s/${subID}/posts/${postID}/update`;\n      const response = await fetchPutData(url, data, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Post updated successfully\");\n        history.push(`/s/${data.sub}/posts/${postID}`);\n      } else {\n        setError(\"Something went wrong\");\n      }\n    } catch (err) {\n      console.log({ message: \"something went wrong\", error: err });\n    }\n  };\n\n  const changeType = (e) => {\n    setType(e.target.name);\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title={edit ? \"Edit Post\" : \"Create Post\"}\n      error={error}\n      art=\"1\"\n      button={edit ? \"Save Changes\" : \"Create Post\"}\n    >\n      <div className=\"type-selector\">\n        <button\n          type=\"button\"\n          name=\"text\"\n          onClick={changeType}\n          className={\n            type === \"text\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Text\n        </button>\n        <button\n          type=\"button\"\n          name=\"image\"\n          onClick={changeType}\n          className={\n            type === \"image\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          {\" \"}\n          Image\n        </button>\n        <button\n          type=\"button\"\n          name=\"video\"\n          onClick={changeType}\n          className={\n            type === \"video\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Video\n        </button>\n        <button\n          type=\"button\"\n          name=\"link\"\n          onClick={changeType}\n          className={\n            type === \"link\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Link\n        </button>\n      </div>\n      {subs ? (\n        <Select\n          name=\"sub\"\n          label=\"Community\"\n          defaultValue={location.state ? location.state.subID : null}\n          optionsArray={subs}\n          ref={register}\n          error={errors.sub ? errors.sub.message : null}\n        />\n      ) : null}\n      <Input\n        name=\"title\"\n        type=\"text\"\n        label=\"Title\"\n        placeholder=\"What did you want everyone to know about?\"\n        ref={register}\n        error={errors.title ? errors.title.message : null}\n      />\n      {makeInput()}\n    </Form>\n  );\n};\n\nexport default PostForm;\n","import { fetchPostData, fetchGetData, fetchPutData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { useState, useEffect } from \"react\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Input, Form, Textarea } from \"../FormComponents\";\nimport { baseUrl } from \"../../config/const\";\n\nconst SubForm = ({ edit }) => {\n  const { subID } = useParams() || \"\";\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const [error, setError] = useState(null);\n\n  const makeSchema = () => {\n    if (edit) {\n      return yup.object().shape({\n        description: yup.string().required().min(6).max(600),\n      });\n    } else {\n      return yup.object().shape({\n        name: yup\n          .string()\n          .required()\n          .min(3)\n          .max(20)\n          .trim()\n          .matches(/^[_a-zA-Z0-9]*$/, {\n            message: \"cannot contain special characters or spaces\",\n          }),\n        description: yup.string().required().min(6).max(600),\n      });\n    }\n  };\n\n  const { register, handleSubmit, setValue, errors } = useForm({\n    resolver: yupResolver(makeSchema()),\n  });\n\n  useEffect(() => {\n    const getSubData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/${subID}\n      `);\n      setValue(\"name\", response.sub.name);\n      setValue(\"description\", response.sub.description);\n      setValue(\"color\", response.sub.color);\n    };\n    if (edit) getSubData();\n  }, [edit, setValue, subID]);\n\n  const onSubmit = (data) => {\n    edit ? updateSub(data) : createSub(data);\n  };\n\n  const createSub = async (data) => {\n    try {\n      const response = await fetchPostData(\n        `${baseUrl}/api/s/create`,\n        data,\n        auth.token\n      );\n      if (response.errors) {\n        setError(response.errors[0].msg);\n      } else if (response.sub) flash.changeMessage(\"New community created!\");\n      history.push(`/s/${response.sub._id}`);\n    } catch (err) {\n      setError(err);\n      console.log(\"something wrong in sub creation\");\n    }\n  };\n\n  const updateSub = async (data) => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subID}/update`,\n        data,\n        auth.token\n      );\n      if (response.ok) {\n        history.push(`/s/${subID}`);\n      } else {\n        console.log(\"errorsss\");\n      }\n    } catch (err) {\n      setError(err);\n      console.log(\"something wrong in sub creation\");\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title={edit ? \"Update Community\" : \"Create Community\"}\n      error={error}\n      art=\"1\"\n      button={edit ? \"Save Changes\" : \"Create Community\"}\n    >\n      <Input\n        name=\"name\"\n        label=\"Community Name\"\n        type=\"text\"\n        placeholder=\"3-20 characters\"\n        disabled={edit ? \"disabled\" : null}\n        ref={register}\n        error={errors.name ? errors.name.message : null}\n      />\n\n      <Textarea\n        name=\"description\"\n        label=\"Description\"\n        placeholder=\"min 6 characters\"\n        ref={register}\n        error={errors.description ? errors.description.message : null}\n      />\n      <Input name=\"color\" label=\"Community Color\" type=\"color\" ref={register} />\n    </Form>\n  );\n};\n\nexport default SubForm;\n","import \"./CommentForm.css\";\nimport { fetchPostData, fetchPutData } from \"../../api\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Textarea } from \"../FormComponents\";\nimport { useEffect } from \"react\";\nimport { baseUrl } from \"../../config/const\";\n\nconst schema = yup.object().shape({\n  content: yup.string().required().min(1).max(600),\n});\n\nconst CommentForm = (props) => {\n  const auth = useAuth();\n  const flash = useFlash();\n  const { parentComment, refreshPost, handleForm, edit } = props;\n  const { subID, postID } = useParams();\n  const parent = parentComment ? parentComment._id : null;\n  const { register, handleSubmit, errors, setValue } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    if (edit) {\n      setValue(\"content\", parentComment.content, { shouldValidate: true });\n    }\n  }, [parentComment, edit, setValue]);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    handleForm(e);\n  };\n\n  const createComment = async (content) => {\n    try {\n      parentComment ? console.log(true) : console.log(false);\n      const response = await fetchPostData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}/comments/create`,\n        parentComment ? { content, parent: parentComment._id } : { content },\n        auth.token\n      );\n      if (response.comment) {\n        flash.changeMessage(\"Comment created successfully\");\n        refreshPost();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateComment = async (content) => {\n    try {\n      const url = `${baseUrl}/api/s/${subID}/posts/${postID}/comments/${parent}/update`;\n      const response = await fetchPutData(url, { content }, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Comment edited successfully\");\n        refreshPost();\n      } else {\n        flash.changeMessage(\"Oops! Something went wrong.\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const onSubmit = (data) => {\n    const { content } = data;\n    edit ? updateComment(content) : createComment(content);\n  };\n\n  return auth.user ? (\n    <form className=\"comment-form\" onSubmit={handleSubmit(onSubmit)}>\n      <Textarea\n        name=\"content\"\n        placeholder=\"What are your thoughts?\"\n        ref={register}\n        error={errors.content ? errors.content.message : null}\n      />\n      <div className=\"form-button-container\">\n        {parentComment ? (\n          <button\n            className=\"button-outline\"\n            id=\"cancel-form\"\n            onClick={handleClick}\n          >\n            Cancel\n          </button>\n        ) : null}\n        <button className=\"button-filled\" onClick={handleSubmit}>\n          {edit ? \"Edit\" : \"Comment\"}\n        </button>\n      </div>\n    </form>\n  ) : (\n    <div className=\"no-user-box\">\n      <span>Log in or sign up to leave a comment</span>\n      <div className=\"nav-buttons\">\n        <Link to=\"/signup\" className=\"button-outline nav-button\">\n          Sign Up\n        </Link>\n        <Link to=\"/login\" className=\"button-filled nav-button\">\n          Log In\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default CommentForm;\n","import CommentForm from \"../CommentForm\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { Link } from \"react-router-dom\";\nimport Score from \"../Score\";\nimport moment from \"moment\";\nimport { Message } from \"@styled-icons/entypo\";\nimport { fetchPutData, fetchDeleteData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport \"./Comment.css\";\n\nconst Comment = ({\n  comment,\n  post,\n  refreshPost,\n  layer,\n  handleRemove,\n  children,\n}) => {\n  const flash = useFlash();\n  const auth = useAuth();\n  const [openForm, setOpenForm] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [score, setScore] = useState(comment.score);\n\n  const handleClick = (e) => {\n    if (e.target.name === \"delete\") {\n      handleDelete();\n    } else {\n      if (e.target.name === \"edit\") {\n        setEdit(true);\n      }\n      if (openForm) {\n        setOpenForm(false);\n        setEdit(false);\n      } else {\n        setOpenForm(true);\n      }\n    }\n  };\n\n  const handleDelete = async () => {\n    let result = window.confirm(\n      \"Are you sure you want to delete this comment?\"\n    );\n    if (result) {\n      const url = `${baseUrl}/api/s/${\n        post ? post.sub._id : comment.post.sub\n      }/posts/${post ? post._id : comment.post._id}/comments/${\n        comment._id\n      }/delete`;\n      const response = await fetchDeleteData(url, auth.token);\n      console.log(response);\n      if (response.ok) {\n        handleRemove ? handleRemove(comment._id) : refreshPost();\n        flash.changeMessage(\"Comment Deleted\");\n      } else {\n        flash.changeMessage(\"Oops! Something went wrong!\");\n      }\n    }\n  };\n\n  const handleScoreChange = (direction, increment) => {\n    setScore((old) => (old += increment));\n    if (direction === \"up\") {\n      castVote(true);\n    } else if (direction === \"down\") {\n      castVote(false);\n    } else {\n      castVote(null);\n    }\n  };\n\n  const castVote = async (value) => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/comments/${comment._id}/vote`;\n    await fetchPutData(url, { value }, auth.token);\n  };\n\n  return (\n    <div className={comment.parent ? \"comment-reply\" : \"comment-container\"}>\n      <div className=\"comment\">\n        {comment.author ? (\n          <Score\n            score={score}\n            item={comment}\n            type=\"comment\"\n            handleChoice={handleScoreChange}\n          />\n        ) : null}\n        <article>\n          <header className=\"card-header\">\n            {comment.author ? (\n              <Link\n                className=\"header-item profile-link\"\n                to={`/users/${comment.author.username}`}\n              >\n                {comment.author.username}\n              </Link>\n            ) : (\n              <span className=\"header-item\">[deleted]</span>\n            )}\n            <span className=\"header-item\">\n              {score === 1 ? score + \" point\" : score + \" points\"}\n            </span>\n            <span className=\"header-item\">\n              - {moment(comment.dateCreated).startOf(\"hour\").fromNow()}\n            </span>\n            {comment.dateEdited ? (\n              <span className=\"header-item edited-item\">\n                edited {moment(comment.dateEdited).startOf(\"hour\").fromNow()}\n              </span>\n            ) : null}\n          </header>\n          <main className=\"card-main\">\n            <span>{comment.content ? comment.content : \"[deleted]\"}</span>\n          </main>\n          {auth.user && comment.author ? (\n            <footer className=\"card-footer\">\n              {layer < 6 ? (\n                <button onClick={handleClick} className=\"footer-item\">\n                  <Message className=\"reply-bubble\" />\n                  Reply\n                </button>\n              ) : null}\n              {auth.user && auth.user._id === comment.author._id ? (\n                <div className=\"footer-button-container\">\n                  <button\n                    className=\"footer-item\"\n                    name=\"edit\"\n                    onClick={handleClick}\n                  >\n                    Edit\n                  </button>\n                  <button\n                    className=\"footer-item\"\n                    name=\"delete\"\n                    onClick={handleClick}\n                  >\n                    Delete\n                  </button>\n                </div>\n              ) : null}\n            </footer>\n          ) : null}\n          {openForm ? (\n            <CommentForm\n              post={post}\n              parentComment={comment}\n              refreshPost={refreshPost}\n              handleForm={handleClick}\n              edit={edit}\n            />\n          ) : null}\n        </article>\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default Comment;\n","import \"./CommentIndex.css\";\nimport Comment from \"../Comment\";\nimport CommentForm from \"../CommentForm\";\n\nconst CommentIndex = ({ comments, post, refreshPost }) => {\n  const renderAllComments = (comments, layer) => {\n    return comments.map((comment) => (\n      <Comment\n        key={comment._id}\n        comment={comment}\n        post={post}\n        refreshPost={refreshPost}\n        layer={layer}\n      >\n        {comment.replies ? renderAllComments(comment.replies, layer + 1) : null}\n      </Comment>\n    ));\n  };\n\n  return (\n    <div id=\"comments-container\">\n      <h3>Leave A Comment</h3>\n      <div>\n        <CommentForm post={post} refreshPost={refreshPost} />\n      </div>\n      <div id=\"comments-index\">\n        {comments ? renderAllComments(comments, 1) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentIndex;\n","import \"./PostDetails.css\";\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchGetData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport CommentIndex from \"../CommentIndex\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\n\nconst PostDetails = () => {\n  const { subID, postID } = useParams();\n  const [post, setPost] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}`\n      );\n      setPost(response.post);\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [postID, subID]);\n\n  const refreshPost = async () => {\n    setIsLoading(true);\n    const response = await fetchGetData(\n      `${baseUrl}/api/s/${subID}/posts/${postID}`\n    );\n    setPost(response.post);\n    setIsLoading(false);\n  };\n\n  return (\n    <div>\n      {isLoading ? (\n        <Loader />\n      ) : post ? (\n        <div className=\"post-details-container\">\n          <div className=\"post-details\">\n            <Post post={post} />\n            <CommentIndex\n              comments={post.comments}\n              post={post}\n              refreshPost={refreshPost}\n            />\n          </div>\n          <Sidebar sub={post.sub} />\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Input, Form } from \"../FormComponents\";\n\nconst schema = yup.object().shape({\n  username: yup\n    .string()\n    .required()\n    .min(3)\n    .max(20)\n    .trim()\n    .matches(/^[_a-zA-Z0-9]*$/, {\n      message: \"cannot contain special characters or spaces\",\n    }),\n  password: yup.string().required().min(6).max(40),\n  email: yup.string().required().email(),\n});\n\nconst SignupForm = () => {\n  const [error, setError] = useState(null);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    const { username, password, email } = data;\n    try {\n      const response = await auth.signup(username, password, email);\n      if (response.user) {\n        flash.changeMessage(\"Account created successfully! Please log in.\");\n        history.push(\"/login\");\n      } else if (response.errors) {\n        console.log(response);\n        setError(response.errors[0].msg);\n      } else {\n        setError(\"Something went wrong.\");\n      }\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title=\"Sign Up\"\n      error={error}\n      art=\"2\"\n      button=\"Create Account\"\n    >\n      <Input\n        name=\"username\"\n        label=\"Username\"\n        type=\"text\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.username ? errors.username.message : null}\n      />\n      <Input\n        name=\"password\"\n        label=\"Password\"\n        type=\"text\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.password ? errors.password.message : null}\n      />\n      <Input\n        name=\"email\"\n        label=\"Email\"\n        type=\"text\"\n        placeholder=\"example@example.com\"\n        ref={register}\n        error={errors.email ? errors.email.message : null}\n      />\n    </Form>\n  );\n};\n\nexport default SignupForm;\n","import { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Form, Input } from \"../FormComponents\";\n\nconst schema = yup.object().shape({\n  username: yup.string().required().min(3).max(20).trim(),\n  password: yup.string().required().min(6).max(40).trim(),\n});\n\nconst LoginForm = () => {\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  let location = useLocation();\n  let { from } = location.state || { from: { pathname: \"/\" } };\n  const auth = useAuth();\n  const flash = useFlash();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    const { username, password } = data;\n    const response = await auth.login(username, password);\n    if (!response.user) setError(response.message);\n    if (response.user) {\n      history.replace(from);\n      flash.changeMessage(`Welcome back ${response.user.username}`);\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title=\"Log In\"\n      error={error}\n      art=\"2\"\n      button=\"Log In\"\n    >\n      <Input\n        name=\"username\"\n        label=\"Username\"\n        type=\"text\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.username ? errors.username.message : null}\n      />\n      <Input\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        ref={register}\n        error={errors.password ? errors.password.message : null}\n      />\n    </Form>\n  );\n};\n\nexport default LoginForm;\n","import \"./UserProfile.css\";\nimport { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Loader from \"../Loader\";\n// import { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport { fetchGetData } from \"../../api\";\nimport Post from \"../Post\";\nimport Comment from \"../Comment\";\nimport Sidebar from \"../Sidebar\";\nimport { baseUrl } from \"../../config/const\";\n\nconst UserProfile = () => {\n  // const auth = useAuth();\n  const size = useWindowSize();\n  const { username } = useParams() || \"\";\n  const [content, setContent] = useState(\"posts\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/users/${username}`);\n        setUser(response.user);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchData();\n  }, [username]);\n\n  const calcScore = () => {\n    let score = 0;\n    user.posts.forEach((post) => (score += post.score));\n    user.comments.forEach((comment) => (score += comment.score));\n    return score;\n  };\n\n  const handleClick = (e) => {\n    e.target.name === \"posts\" ? setContent(\"posts\") : setContent(\"comments\");\n  };\n\n  const removePost = (id) => {\n    const newPosts = user.posts.filter((post) => post._id !== id);\n    setUser({ ...user, posts: newPosts });\n  };\n\n  const removeComment = (id) => {\n    const newComments = user.comments.filter((comment) => comment._id !== id);\n    setUser({ ...user, comments: newComments });\n  };\n\n  const mapPosts = () => {\n    return user.posts.map((post) => (\n      <Post key={post._id} post={post} link=\"true\" handleRemove={removePost} />\n    ));\n  };\n\n  const mapComments = () => {\n    return user.comments.map((comment) => (\n      <div className=\"comment-box\" key={comment._id}>\n        <div>\n          {comment.post ? (\n            <span>\n              {comment.post.title} posted by {comment.post.author.username}\n            </span>\n          ) : (\n            <span>deleted</span>\n          )}\n        </div>\n        <Comment comment={comment} handleRemove={removeComment} />\n      </div>\n    ));\n  };\n\n  return user ? (\n    <div className=\"user-profile-container\">\n      <nav className=\"profile-nav\">\n        <button\n          onClick={handleClick}\n          name=\"posts\"\n          className=\"type-selection\"\n          style={\n            content === \"posts\" ? { borderBottom: \"2px solid #222\" } : null\n          }\n        >\n          Posts ({user.posts.length})\n        </button>\n        <button\n          onClick={handleClick}\n          name=\"comments\"\n          className=\"type-selection\"\n          style={\n            content === \"comments\" ? { borderBottom: \"2px solid #222\" } : null\n          }\n        >\n          Comments ({user.comments.length})\n        </button>\n      </nav>\n      <div className=\"user-profile-content\">\n        {content === \"posts\" ? mapPosts() : mapComments()}\n      </div>\n      {size.width > 800 ? (\n        <div className=\"user-details\">\n          <Sidebar user={user} score={calcScore()} />\n        </div>\n      ) : null}\n    </div>\n  ) : (\n    <Loader />\n  );\n};\n\nexport default UserProfile;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport \"./SubIndex.css\";\nimport { baseUrl } from \"../../config/const\";\nimport Loader from \"../Loader\";\nimport SubscribeButton from \"../SubscribeButton\";\n\nconst SubIndex = () => {\n  const auth = useAuth();\n\n  const [subs, setSubs] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(`${baseUrl}/api/s/`);\n      setSubs(response.subs);\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, []);\n  return (\n    <div id=\"sub-index-container\">\n      <header id=\"sub-index-header\">\n        <h3 className=\"white-heading\">Browse Communities</h3>\n        <Link to=\"create\" className=\"button-outline nav-button\">\n          Create Community\n        </Link>\n      </header>\n      <div id=\"sub-index\">\n        {isLoading ? (\n          <Loader />\n        ) : subs ? (\n          subs.map((sub) => (\n            <div className=\"sub-preview-large\">\n              <div className=\"preview-name-box\">\n                {\" \"}\n                <div\n                  className=\"sub-circle\"\n                  style={sub.color ? { backgroundColor: sub.color } : null}\n                ></div>\n                <span className=\"sub-name preview-item\">{sub.name}</span>\n              </div>\n\n              {auth.user ? <SubscribeButton subData={sub} /> : null}\n              <Link\n                to={`${sub._id}`}\n                key={sub._id}\n                className=\"sub-preview-link\"\n              />\n            </div>\n          ))\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default SubIndex;\n","import \"./Flash.css\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\n\nconst Flash = () => {\n  const flash = useFlash();\n\n  return flash.showMessage ? (\n    <div className=\"flash-container\">\n      <aside className=\"blue-bar\"></aside>\n      <span className=\"flash-message\">{flash.message}</span>\n    </div>\n  ) : null;\n};\n\nexport default Flash;\n","import { useAuth } from \"../../hooks/use-auth\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRoute = ({ children, ...rest }) => {\n  let auth = useAuth();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        auth.user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport { ProvideAuth } from \"../../hooks/use-auth\";\nimport { ProvideFlash } from \"../../hooks/use-flash-message\";\n\nimport Navbar from \"../Navbar\";\nimport Home from \"../Home\";\nimport All from \"../All\";\nimport Sub from \"../Sub\";\nimport PostForm from \"../PostForm\";\nimport SubForm from \"../SubForm\";\nimport PostDetails from \"../PostDetails\";\nimport SignupForm from \"../SignupForm\";\nimport LoginForm from \"../LoginForm\";\nimport UserProfile from \"../UserProfile\";\nimport SubIndex from \"../SubIndex\";\nimport Flash from \"../Flash\";\nimport PrivateRoute from \"../PrivateRoute\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ProvideAuth>\n        <ProvideFlash>\n          <Flash />\n          <Router>\n            <Navbar />\n            <main id=\"main-container\">\n              <Switch>\n                <Route path=\"/users/:username\">\n                  <UserProfile />\n                </Route>\n                <PrivateRoute path=\"/s/:subID/update\">\n                  <SubForm edit={true} />\n                </PrivateRoute>\n                <PrivateRoute path=\"/s/:subID/posts/:postID/update\">\n                  <PostForm edit={true} />\n                </PrivateRoute>\n                <Route path=\"/s/:subID/posts/:postID\">\n                  <PostDetails />\n                </Route>\n                <PrivateRoute path=\"/s/:subID/submit\">\n                  <PostForm />\n                </PrivateRoute>\n                <PrivateRoute path=\"/s/create\">\n                  <SubForm />\n                </PrivateRoute>\n                <Route path=\"/s/browse\">\n                  <SubIndex />\n                </Route>\n                <Route path=\"/s/all\">\n                  <All />\n                </Route>\n                <Route path=\"/s/:subID\">\n                  <Sub />\n                </Route>\n                <PrivateRoute path=\"/submit\">\n                  <PostForm />\n                </PrivateRoute>\n                <Route path=\"/login\">\n                  <LoginForm />\n                </Route>\n                <Route path=\"/signup\">\n                  <SignupForm />\n                </Route>\n                <PrivateRoute path=\"/home\">\n                  <Home />\n                </PrivateRoute>\n                <Route path=\"/\">\n                  <Home />\n                </Route>\n              </Switch>\n            </main>\n          </Router>\n        </ProvideFlash>\n      </ProvideAuth>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
{"version":3,"sources":["api/index.js","config/const.js","hooks/use-auth.js","hooks/use-flash-message.js","components/SidenavItem/SidenavItem.js","components/Sidenav/Sidenav.js","components/Navbar/Navbar.js","hooks/use-window-size.js","components/Score/Score.js","components/Alert/Alert.js","components/Post/Post.js","components/SidebarItem/SidebarItem.js","components/Sidebar/Sidebar.js","components/Loader/Loader.js","components/Home/Home.js","components/All/All.js","components/SubscribeButton/SubscribeButton.js","components/SubHeader/SubHeader.js","components/Sub/Sub.js","components/FormComponents/Input/Input.js","components/FormComponents/Form/Form.js","components/FormComponents/Textarea/Textarea.js","components/FormComponents/Select/Select.js","components/PostForm/PostForm.js","components/SubForm/SubForm.js","components/CommentForm/CommentForm.js","components/Comment/Comment.js","components/CommentIndex/CommentIndex.js","components/PostDetails/PostDetails.js","components/SignupForm/SignupForm.js","components/LoginForm/LoginForm.js","components/UserProfile/UserProfile.js","components/SubIndex/SubIndex.js","components/UserForm/UserForm.js","components/Flash/Flash.js","components/PrivateRoute/PrivateRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["fetchGetData","url","a","token","fetch","method","headers","Authorization","response","json","data","console","log","fetchPostData","body","JSON","stringify","fetchPutData","error","fetchDeleteData","baseUrl","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","setToken","storeVotes","votes","forEach","vote","value","id","post","comment","localStorage","setItem","login","username","password","signup","email","logout","clear","subscribe","sub","subscriptions","unsubscribe","newSubs","filter","s","useEffect","useProvideAuth","Provider","useAuth","useContext","flashContext","ProvideFlash","flash","message","setMessage","showMessage","setShowMessage","changeMessage","newMessage","setTimeout","useProvideFlash","useFlash","SidenavItem","onClick","href","title","to","className","Sidenav","subs","setSubs","showSidenav","setShowSidenav","fetchData","handleClick","createData","length","map","_id","name","style","color","backgroundColor","Navbar","history","useHistory","push","useWindowSize","width","undefined","height","windowSize","setWindowSize","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Score","score","item","type","handleChoice","getItem","choice","setChoice","e","t","currentTarget","changeChoice","increment","removeItem","Alert","onSubmit","target","Post","link","handleRemove","setScore","showAlert","setShowAlert","toggleAlert","handleDelete","ok","handleScoreChange","direction","old","castVote","author","moment","dateCreated","startOf","fromNow","dateEdited","src","match","youtubeParser","content","frameBorder","alt","commentCount","confirm","SidebarItem","heading","footing","Sidebar","size","shuffleArray","array","i","j","Math","floor","random","temp","slice","getUserImage","hash","cryptoJS","MD5","toLowerCase","dateJoined","format","description","pathname","state","subID","Loader","Home","posts","setPosts","fetchUserData","fetchAllData","removePost","newPosts","All","SubscribeButton","subData","userSubscribed","setUserSubscribed","some","changeSubscription","onMouseOver","textContent","onMouseLeave","SubHeader","creator","Sub","useParams","setData","isLoading","setIsLoading","Input","React","forwardRef","ref","label","rest","htmlFor","Form","handleSubmit","art","button","Textarea","placeholder","Select","defaultValue","optionsArray","option","PostForm","edit","location","useLocation","postID","setType","setError","useForm","resolver","yupResolver","yup","shape","required","min","max","trim","image","video","matches","shouldUnregister","register","errors","setValue","shouldValidate","createPost","updatePost","changeType","SubForm","getSubData","createSub","msg","updateSub","disabled","schema","CommentForm","props","parentComment","refreshPost","handleForm","parent","createComment","updateComment","preventDefault","Comment","layer","openForm","setOpenForm","setEdit","CommentIndex","comments","renderAllComments","replies","PostDetails","setPost","password2","oneOf","SignupForm","LoginForm","from","replace","UserProfile","setContent","removeComment","newComments","borderBottom","calcScore","SubIndex","passwordSchema","oldPassword","emailSchema","UserForm","updateEmail","updatePassword","Flash","PrivateRoute","render","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0f6b969.chunk.js","sourcesContent":["const fetchGetData = async (url, token = \"\") => {\n  try {\n    const response = await fetch(url, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchPostData = async (url, body, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"post\",\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchPutData = async (url, body, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"put\",\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.log({ error: err });\n  }\n};\n\nconst fetchDeleteData = async (url, token) => {\n  try {\n    const response = await fetch(url, {\n      method: \"delete\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst createPost = async (body, token) => {\n  const response = await fetchPostData(\n    `http://localhost:3000/api/s/${body.sub}/posts/create`,\n    body,\n    token\n  );\n  return response;\n};\n\nexport {\n  fetchGetData,\n  fetchPostData,\n  fetchPutData,\n  fetchDeleteData,\n  createPost,\n};\n","export const baseUrl =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:5000\"\n    : \"https://api-reddit-clone.herokuapp.com\";\n","import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport { fetchPostData } from \"../api\";\nimport { baseUrl } from \"../config/const\";\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n\n  const storeVotes = (votes) => {\n    votes.forEach((vote) => {\n      let data = {};\n      if (vote.value === true || vote.value === false) {\n        data.id = vote.post ? vote.post : vote.comment;\n        data.value = vote.value ? \"up\" : \"down\";\n        localStorage.setItem(data.id, data.value);\n      }\n    });\n  };\n\n  const login = async (username, password) => {\n    try {\n      const response = await fetchPostData(`${baseUrl}/api/users/login`, {\n        username,\n        password,\n      });\n      if (!response.user) {\n        return response;\n      } else if (response.user) {\n        storeVotes(response.votes);\n        setUser(response.user);\n        setToken(response.token);\n        return { user: response.user };\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const signup = async (username, password, email) => {\n    try {\n      const response = await fetchPostData(`${baseUrl}/api/users/create`, {\n        username,\n        password,\n        email,\n      });\n      return response;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.clear();\n  };\n\n  const subscribe = (sub) => {\n    setUser({ ...user, subscriptions: [...user.subscriptions, sub] });\n  };\n\n  const unsubscribe = (sub) => {\n    const newSubs = user.subscriptions.filter((s) => s !== sub);\n    setUser({ ...user, subscriptions: newSubs });\n  };\n\n  useEffect(() => {\n    const unsubscribe = (user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n    };\n\n    return () => unsubscribe();\n  }, []);\n\n  return {\n    user,\n    token,\n    login,\n    signup,\n    logout,\n    subscribe,\n    unsubscribe,\n  };\n}\n","import React, { useState, useContext, createContext } from \"react\";\n\nconst flashContext = createContext();\n\nexport function ProvideFlash({ children }) {\n  const flash = useProvideFlash();\n  return (\n    <flashContext.Provider value={flash}>{children}</flashContext.Provider>\n  );\n}\n\nexport const useFlash = () => {\n  return useContext(flashContext);\n};\n\nfunction useProvideFlash() {\n  const [message, setMessage] = useState(null);\n  const [showMessage, setShowMessage] = useState(false);\n\n  const changeMessage = (newMessage) => {\n    setMessage(newMessage);\n    setShowMessage(true);\n    setTimeout(() => {\n      setShowMessage(false);\n    }, 5000);\n  };\n\n  // useEffect(() => {\n\n  // }, [message, showMessage]);\n\n  return {\n    message,\n    showMessage,\n    changeMessage,\n  };\n}\n","import \"./SidenavItem.css\";\nimport { Link } from \"react-router-dom\";\n\nconst SidenavItem = ({ data, children }) => {\n  const { onClick, href, title } = data;\n\n  return (\n    <Link to={href} className=\"sidenav-item\" onClick={onClick}>\n      {children}\n      <span className=\"sidenav-item-heading\">{title}</span>\n    </Link>\n  );\n};\n\nexport default SidenavItem;\n","import \"./Sidenav.css\";\n\n// functions\nimport { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { baseUrl } from \"../../config/const\";\n\n//components\nimport SidenavItem from \"../SidenavItem\";\n\n//icons\n// import { SpaceShip } from \"@styled-icons/remix-fill\";\nimport { TrendingUp, CreateNewFolder } from \"@styled-icons/material\";\nimport { Home } from \"@styled-icons/boxicons-solid\";\nimport { World } from \"@styled-icons/boxicons-regular\";\nimport { User } from \"@styled-icons/fa-solid\";\nimport { Menu, Close } from \"@styled-icons/evaicons-solid\";\nimport { Create } from \"@styled-icons/ionicons-solid\";\n\nconst Sidenav = ({ logout }) => {\n  const auth = useAuth();\n  const [subs, setSubs] = useState(null);\n  const [showSidenav, setShowSidenav] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetchGetData(\n          `${baseUrl}/api/s/user`,\n          auth.token\n        );\n        setSubs(response.subs);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    auth.token ? fetchData() : setSubs(null);\n  }, [auth.token, showSidenav]);\n\n  const handleClick = () => {\n    showSidenav ? setShowSidenav(false) : setShowSidenav(true);\n  };\n\n  const createData = (href, title) => {\n    return {\n      href,\n      title,\n      onClick: handleClick,\n    };\n  };\n\n  return (\n    <div id=\"nav-subs\">\n      <button id=\"sub-nav-button\" onClick={handleClick}>\n        <Menu className=\"menu-icon\" />\n        <span className=\"sidenav-button-text\">Menu</span>\n      </button>\n      {showSidenav ? (\n        <div>\n          <div id=\"sidenav-overlay\" onClick={handleClick}></div>\n\n          <div\n            id=\"sub-sidenav\"\n            className={showSidenav ? \"sidenav-show\" : \"sidenav-hide\"}\n          >\n            <header className=\"sidenav-profile-header\">\n              <h5 className=\"sidenav-username\">{auth.user.username}</h5>\n              <button className=\"close-button\" onClick={handleClick}>\n                <Close className=\"close-button-icon\" />\n              </button>\n            </header>\n            <div className=\"sidenav-section\">\n              <SidenavItem\n                data={createData(`/users/${auth.user.username}`, \"Profile\")}\n              >\n                <User className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/\", \"Home\")}>\n                <Home className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/all\", \"All\")}>\n                <World className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/browse\", \"Browse Communities\")}>\n                <TrendingUp className=\"sidenav-item-icon\" />\n              </SidenavItem>\n            </div>\n            <div className=\"sidenav-section\">\n              <h6 className=\"sidenav-heading\">My Communities</h6>\n              {subs.length > 0\n                ? subs.map((sub) => (\n                    <SidenavItem\n                      key={sub._id}\n                      data={createData(`/s/${sub._id}`, sub.name)}\n                    >\n                      <div\n                        className=\"sidenav-item-circle\"\n                        style={\n                          sub.color ? { backgroundColor: sub.color } : null\n                        }\n                      ></div>\n                    </SidenavItem>\n                  ))\n                : null}\n            </div>\n            <div className=\"sidenav-section\">\n              <h6 className=\"sidenav-heading\">Other</h6>\n              <SidenavItem data={createData(\"/submit\", \"Create Post\")}>\n                <Create className=\"sidenav-item-icon\" />\n              </SidenavItem>\n              <SidenavItem data={createData(\"/s/create\", \"Create Community\")}>\n                <CreateNewFolder className=\"sidenav-item-icon\" />\n              </SidenavItem>\n            </div>\n            <div className=\"sidenav-button-box\">\n              <button className=\"button-outline logout-button\" onClick={logout}>\n                Logout\n              </button>\n            </div>\n            <div className=\"blue-box\"></div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Sidenav;\n","import \"./Navbar.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Sidenav from \"../Sidenav\";\nimport { useAuth } from \"../../hooks/use-auth\";\n\nconst Navbar = () => {\n  const auth = useAuth();\n  const history = useHistory();\n\n  const handleLogout = () => {\n    auth.logout();\n    history.push(\"/\");\n  };\n\n  return (\n    <div id=\"nav-container\">\n      <nav id=\"top-nav\">\n        <Link to=\"/\" id=\"nav-brand\">\n          S/eddit\n        </Link>\n        <div id=\"nav-sub-container\">\n          {auth.user ? (\n            <Sidenav logout={handleLogout} />\n          ) : (\n            <div className=\"nav-buttons\">\n              <Link to=\"/signup\" className=\"button-outline nav-button\">\n                Sign Up\n              </Link>\n              <Link to=\"/login\" className=\"button-filled nav-button\">\n                Log In\n              </Link>\n            </div>\n          )}\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import { useState, useEffect } from \"react\";\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n","import { ArrowUp, ArrowDown } from \"@styled-icons/entypo\";\nimport { useState } from \"react\";\nimport \"./Score.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\n\nconst Score = ({ score, item, type, handleChoice }) => {\n  const auth = useAuth();\n  const [choice, setChoice] = useState(\n    auth.user ? localStorage.getItem(item._id) : null\n  );\n\n  const handleClick = (e) => {\n    const t = e.currentTarget.name;\n    let increment = 0;\n    if (choice && choice === t) {\n      increment = t === \"up\" ? -1 : 1;\n      changeChoice(null, increment);\n    } else {\n      if (choice && choice !== t) {\n        increment = t === \"up\" ? 2 : -2;\n      } else {\n        increment = t === \"up\" ? 1 : -1;\n      }\n      changeChoice(t, increment);\n    }\n  };\n\n  const changeChoice = (t, increment) => {\n    setChoice(t);\n    t === null\n      ? localStorage.removeItem(item._id)\n      : localStorage.setItem(item._id, t);\n    handleChoice(t, increment);\n  };\n\n  return (\n    <div className={type === \"post\" ? \"post-score-box\" : \"score-box\"}>\n      <button\n        name=\"up\"\n        onClick={auth.user ? handleClick : null}\n        className=\"invis-button\"\n      >\n        <ArrowUp\n          className=\"score-arrow up-arrow\"\n          style={choice === \"up\" ? { color: \"var(--orange)\" } : null}\n        />\n      </button>\n      {type === \"post\" ? <span className=\"score-number\">{score}</span> : null}\n      <button\n        name=\"down\"\n        onClick={auth.user ? handleClick : null}\n        className=\"invis-button\"\n      >\n        <ArrowDown\n          className=\"score-arrow down-arrow\"\n          style={choice === \"down\" ? { color: \"var(--blue)\" } : null}\n        />\n      </button>\n    </div>\n  );\n};\n\nexport default Score;\n","import \"./Alert.css\";\n\nconst Alert = ({ title, message, onSubmit }) => {\n  const handleClick = (e) => {\n    e.target.name === \"confirm\" ? onSubmit(true) : onSubmit(false);\n  };\n\n  return (\n    <div className=\"alert-overlay\">\n      <div className=\"alert-container\">\n        <header className=\"alert-header\">\n          <h2 className=\"alert-title\">{title}</h2>\n        </header>\n        <main className=\"alert-main\">\n          <p className=\"alert-message\"> {message}</p>\n        </main>\n        <footer className=\"alert-footer\">\n          <button\n            name=\"confirm\"\n            onClick={handleClick}\n            className=\"button-outline confirm\"\n          >\n            Confirm\n          </button>\n          <button\n            name=\"cancel\"\n            onClick={handleClick}\n            className=\"button-filled cancel\"\n          >\n            Cancel\n          </button>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Alert;\n","import \"./Post.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Message } from \"@styled-icons/entypo\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport moment from \"moment\";\nimport Score from \"../Score\";\nimport Alert from \"../Alert\";\nimport { useState } from \"react\";\nimport { fetchPutData, fetchDeleteData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Post = ({ post, link, handleRemove }) => {\n  const [score, setScore] = useState(post.score);\n  const [showAlert, setShowAlert] = useState(false);\n  const flash = useFlash();\n  const auth = useAuth();\n  const windowSize = useWindowSize();\n  const history = useHistory();\n\n  const handleDeleteProposal = (confirm) => {\n    confirm ? handleDelete() : toggleAlert();\n  };\n\n  const toggleAlert = () => {\n    showAlert ? setShowAlert(false) : setShowAlert(true);\n  };\n\n  const handleDelete = async () => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/delete`;\n    const response = await fetchDeleteData(url, auth.token);\n    if (response.ok) {\n      flash.changeMessage(\"Post deleted successfully!\");\n      handleRemove ? handleRemove(post._id) : history.push(\"/\");\n    } else {\n      console.log(\"Not Okay.\");\n    }\n  };\n\n  const handleScoreChange = (direction, increment) => {\n    setScore((old) => (old += increment));\n    if (direction === \"up\") {\n      castVote(true);\n    } else if (direction === \"down\") {\n      castVote(false);\n    } else {\n      castVote(null);\n    }\n  };\n\n  const castVote = async (value) => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/vote`;\n    const response = await fetchPutData(url, { value }, auth.token);\n    console.log(response);\n  };\n\n  const youtubeParser = (url) => {\n    var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n    var match = url.match(regExp);\n    return match && match[7].length === 11 ? match[7] : false;\n  };\n\n  return (\n    <div>\n      <div className=\"post-container\">\n        {windowSize.width > 800 ? (\n          <Score\n            score={score}\n            item={post}\n            type=\"post\"\n            handleChoice={handleScoreChange}\n          />\n        ) : null}\n        <article>\n          <header className=\"card-header\">\n            <Link to={`/s/${post.sub._id}`} className=\"header-item sub-link\">\n              {post.sub.name}\n            </Link>\n            <span className=\"header-item\">Posted by</span>\n            {post.author ? (\n              <Link\n                to={`/users/${post.author.username}`}\n                className=\"header-item profile-link\"\n              >\n                {post.author.username}\n              </Link>\n            ) : (\n              \"[Deleted]\"\n            )}\n            <span className=\"header-item\">\n              {moment(post.dateCreated).startOf(\"hour\").fromNow()}\n            </span>\n            {post.dateEdited ? (\n              <span className=\"header-item edited-item\">\n                edited {moment(post.dateEdited).startOf(\"hour\").fromNow()}\n              </span>\n            ) : null}\n          </header>\n          <main className=\"card-main\">\n            <h2 className=\"post-title\">{post.title}</h2>\n            {post.type === \"video\" ? (\n              <iframe\n                title={post.title}\n                className=\"post-content-video\"\n                src={`https://www.youtube.com/embed/${youtubeParser(\n                  post.content\n                )}`}\n                frameBorder=\"0\"\n              ></iframe>\n            ) : post.type === \"link\" ? (\n              <div>\n                {\" \"}\n                <a className=\"post-content-link\" href={post.content}>\n                  {post.content}\n                </a>\n              </div>\n            ) : post.type === \"image\" ? (\n              <img\n                className=\"post-image\"\n                alt=\"Post Image\"\n                src={post.content}\n              ></img>\n            ) : (\n              <p className=\"post-content\">{post.content}</p>\n            )}\n          </main>\n          <footer className=\"card-footer\">\n            {windowSize.width < 800 ? (\n              <Score\n                score={score}\n                item={post}\n                type=\"post\"\n                handleChoice={handleScoreChange}\n              />\n            ) : null}\n            <span className=\"footer-item footer-reply\">\n              <Message className=\"reply-bubble\" />\n              {post.commentCount === 1\n                ? \"1 Comment\"\n                : post.commentCount + \" Comments\"}\n            </span>\n            {auth.user && auth.user._id === post.author._id ? (\n              <Link\n                to={`/s/${post.sub._id}/posts/${post._id}/update`}\n                className=\"footer-item\"\n              >\n                Edit\n              </Link>\n            ) : null}\n            {auth.user && auth.user._id === post.author._id ? (\n              <button\n                className=\"footer-item\"\n                name=\"delete\"\n                onClick={toggleAlert}\n              >\n                Delete\n              </button>\n            ) : null}\n          </footer>\n        </article>\n        {link ? (\n          <Link\n            to={`/s/${post.sub._id}/posts/${post._id}`}\n            className=\"post-link\"\n          ></Link>\n        ) : null}\n      </div>\n      {showAlert ? (\n        <Alert\n          title=\"Delete Post\"\n          message=\"Are you sure you want to delete this post?\"\n          onSubmit={handleDeleteProposal}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default Post;\n","import \"./SidebarItem.css\";\n\nconst SidebarItem = ({ heading, color, children, footing }) => {\n  return (\n    <div className=\"sidebar-item\">\n      <header\n        className=\"sidebar-item-header\"\n        style={color ? { backgroundColor: color } : null}\n      >\n        <h2 className=\"heading-white\">{heading}</h2>\n      </header>\n      <main className=\"sidebar-item-main\">{children}</main>\n      {footing ? (\n        <footer className=\"sidebar-item-footer\">{footing}</footer>\n      ) : null}\n    </div>\n  );\n};\n\nexport default SidebarItem;\n","import \"./Sidebar.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport cryptoJS from \"crypto-js\";\nimport { fetchGetData } from \"../../api\";\nimport SidebarItem from \"../SidebarItem\";\nimport moment from \"moment\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Sidebar = ({ sub, user, score }) => {\n  const auth = useAuth();\n  const size = useWindowSize();\n  const [subs, setSubs] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/`);\n      shuffleArray(response.subs);\n      setSubs(response.subs.slice(0, 5));\n    };\n\n    fetchData();\n  }, [sub]);\n\n  function shuffleArray(array) {\n    for (var i = array.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n  }\n\n  const getUserImage = () => {\n    const hash = cryptoJS.MD5(user.email.toLowerCase());\n    return `https://www.gravatar.com/avatar/${hash}?s=200&r=pg&d=mp`;\n  };\n\n  const subSidebar = () => {\n    return (\n      <div id=\"sidebar-container\">\n        <SidebarItem\n          color={sub ? sub.color : null}\n          heading=\"About Community\"\n          footing={\n            sub.dateCreated\n              ? \"Created: \" + moment(sub.dateCreated).format(\"MMMM Do YYYY\")\n              : null\n          }\n        >\n          <p>{sub.description}</p>\n        </SidebarItem>\n        {auth.user ? (\n          <SidebarItem heading=\"Create Content\" color={sub ? sub.color : null}>\n            <div className=\"button-box\">\n              <Link\n                to={{ pathname: \"/submit\", state: { subID: sub._id } }}\n                className=\"button-filled\"\n              >\n                Create Post\n              </Link>\n              <Link to=\"/s/create\" className=\"button-outline\">\n                Create Community\n              </Link>\n            </div>\n          </SidebarItem>\n        ) : null}\n        <SidebarItem\n          color={sub ? sub.color : null}\n          heading=\"Other Communities\"\n          footing={\n            <div className=\"button-box\">\n              <Link className=\"button-filled\" to=\"/s/browse\">\n                All Communities\n              </Link>\n            </div>\n          }\n        >\n          {subs\n            ? subs.map((sub) => (\n                <div className=\"sub-preview\" key={sub._id}>\n                  <div className=\"small-sub-image sub-image\"></div>\n                  {sub.name}\n                  <Link\n                    to={`/s/${sub._id}`}\n                    key={sub._id}\n                    className=\"sub-preview-link\"\n                  />\n                </div>\n              ))\n            : null}\n        </SidebarItem>\n      </div>\n    );\n  };\n\n  const userSidebar = () => {\n    return (\n      <div id=\"sidebar-container\">\n        <SidebarItem\n          heading={<img className=\"profile-picture\" src={getUserImage()} />}\n        >\n          <h2>{user.username}</h2>\n          <div className=\"user-stats\">\n            <div className=\"user-stat-group\">\n              <h5 className=\"user-stat-label\">Score</h5>\n              <span className=\"user-stat\">{score}</span>\n            </div>\n            <div className=\"user-stat-group\">\n              <h5 className=\"user-stat-label\">Date Joined</h5>\n              <span className=\"user-stat\">\n                {moment(user.dateJoined).format(\"MMMM DD YYYY\")}\n              </span>\n            </div>\n          </div>\n        </SidebarItem>\n        {auth.user && auth.user._id === user._id ? (\n          <SidebarItem heading=\"Edit User Details\">\n            <div className=\"button-box\">\n              <Link\n                to={`/users/${auth.user.username}/update_email`}\n                className=\"button-filled\"\n              >\n                Change Email\n              </Link>\n              <Link\n                to={`/users/${auth.user.username}/update_password`}\n                className=\"button-outline\"\n              >\n                Change Password\n              </Link>\n            </div>\n          </SidebarItem>\n        ) : null}\n      </div>\n    );\n  };\n\n  return size.width > 950 ? (user ? userSidebar() : subSidebar()) : null;\n};\n\nexport default Sidebar;\n","import \"./Loader.css\";\n\nconst Loader = () => {\n  return (\n    <div className=\"lds-facebook\">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\nimport { Surprise } from \"@styled-icons/fa-solid\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Home = () => {\n  const auth = useAuth();\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await fetchGetData(\n          `${baseUrl}/api/s/user/posts/home`,\n          auth.token\n        );\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    const fetchAllData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/s/home/posts/`);\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    auth.user ? fetchUserData() : fetchAllData();\n  }, [auth.user, auth.token]);\n\n  const removePost = (id) => {\n    const newPosts = posts.filter((post) => post._id !== id);\n    setPosts(newPosts);\n  };\n\n  return (\n    <div className=\"sub-container\">\n      {posts ? (\n        <main className=\"sub-page\">\n          <div className=\"posts-container\">\n            {posts.length > 0 ? (\n              posts.map((post) => (\n                <Post\n                  key={post._id}\n                  post={post}\n                  link={true}\n                  handleRemove={removePost}\n                />\n              ))\n            ) : (\n              <div className=\"empty-sub\">\n                <h1>Subscribe to communities to get started</h1>\n                <Surprise className=\"empty-sub-icon\" />\n                <Link to=\"/s/browse\" className=\"button-filled\">\n                  Browse Communities\n                </Link>\n              </div>\n            )}\n          </div>\n          <Sidebar\n            sub={\n              auth.user\n                ? {\n                    name: \"Homepage\",\n                    description: \"Your personalized homepage\",\n                  }\n                : {\n                    name: \"All\",\n                    description: \"All the newest posts from every community\",\n                  }\n            }\n          />\n        </main>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\n\nconst All = () => {\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    const fetchAllData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/s/home/posts/`);\n        setPosts(response.posts);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchAllData();\n  }, []);\n\n  return (\n    <div className=\"sub-container\">\n      {posts ? (\n        <main className=\"sub-page\">\n          <div className=\"posts-container\">\n            {posts.map((post) => (\n              <Post key={post._id} post={post} link={true} />\n            ))}\n          </div>\n          <Sidebar\n            sub={{\n              name: \"All\",\n              description:\n                \"This is a collection of all the communities newest posts\",\n            }}\n          />\n        </main>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default All;\n","import { useState, useEffect } from \"react\";\nimport { fetchPutData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport \"./SubscribeButton.css\";\nimport { baseUrl } from \"../../config/const\";\n\nconst SubscribeButton = ({ subData }) => {\n  const auth = useAuth();\n  const flash = useFlash();\n  const [userSubscribed, setUserSubscribed] = useState(null);\n\n  useEffect(() => {\n    const isUserSubscribed = () => {\n      if (auth.user.subscriptions.some((sub) => sub === subData._id)) {\n        setUserSubscribed(true);\n      }\n    };\n    isUserSubscribed();\n  }, [subData, auth.user]);\n\n  const subscribe = async () => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subData._id}/subscribe`,\n        { body: \"\" },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(`Now subscribed to ${subData.name}`);\n        auth.subscribe(subData._id);\n      } else {\n        console.log(\"something went wrong\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const unsubscribe = async () => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subData._id}/unsubscribe`,\n        { body: \"\" },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(`Unsubscribed from ${subData.name}`);\n        auth.unsubscribe(subData._id);\n      } else {\n        console.log(\"something went wrong\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleClick = () => {\n    changeSubscription();\n  };\n\n  const handleMouseOver = (e) => {\n    e.target.textContent = userSubscribed ? \"Leave\" : \"Join?\";\n  };\n\n  const handleMouseLeave = (e) => {\n    e.target.textContent = userSubscribed ? \"Joined\" : \"Join\";\n  };\n\n  const changeSubscription = async () => {\n    if (userSubscribed) {\n      setUserSubscribed(false);\n      await unsubscribe();\n    } else {\n      setUserSubscribed(true);\n      await subscribe();\n    }\n  };\n\n  return (\n    <div className=\"subscribe-button-container\">\n      <button\n        onClick={handleClick}\n        onMouseOver={handleMouseOver}\n        onMouseLeave={handleMouseLeave}\n        className={\n          userSubscribed\n            ? \"button-outline subscribe-button\"\n            : \"button-filled subscribe-button\"\n        }\n      >\n        {userSubscribed ? \"Joined\" : \"Join\"}\n      </button>\n    </div>\n  );\n};\n\nexport default SubscribeButton;\n","import \"./SubHeader.css\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { Link } from \"react-router-dom\";\nimport SubscribeButton from \"../SubscribeButton\";\nimport { Options2 } from \"@styled-icons/evaicons-solid\";\n\nconst SubHeader = ({ subData }) => {\n  const auth = useAuth();\n  return (\n    <header className=\"sub-header-container\">\n      <div\n        className=\"community-theme\"\n        style={subData.color ? { backgroundColor: subData.color } : null}\n      ></div>\n      <div className=\"lower-header-container\">\n        <div className=\"header-main-container\">\n          <div className=\"sub-image\"></div>\n          <div className=\"header-sub-container\">\n            <div className=\"sub-title-container\">\n              <h1 className=\"sub-title\">{subData.name}</h1>\n            </div>\n            <div className=\"sub-header-buttons\">\n              {auth.user ? <SubscribeButton subData={subData} /> : null}\n              {auth.user && subData.creator === auth.user._id ? (\n                <Link\n                  to={`/s/${subData._id}/update`}\n                  className=\"button-filled nav-button\"\n                >\n                  <Options2 className=\"button-icon\" />\n                </Link>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default SubHeader;\n","import \"./Sub.css\";\nimport { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { fetchGetData } from \"../../api\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport SubHeader from \"../SubHeader\";\nimport Loader from \"../Loader\";\nimport { Surprise } from \"@styled-icons/fa-solid\";\nimport { baseUrl } from \"../../config/const\";\n\nconst Sub = () => {\n  const { subID } = useParams();\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(`${baseUrl}/api/s/${subID}`);\n      setData({ sub: response.sub, posts: response.posts });\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [subID]);\n\n  const removePost = (id) => {\n    const newPosts = data.posts.filter((post) => post._id !== id);\n    setData({ ...data, posts: newPosts });\n  };\n\n  return isLoading ? (\n    <Loader />\n  ) : data ? (\n    <div className=\"sub-container\">\n      <SubHeader subData={data.sub} />\n      <main className=\"sub-page\">\n        <div className=\"posts-container\">\n          {data.posts.length > 0 ? (\n            data.posts.map((post) => (\n              <Post\n                key={post._id}\n                post={post}\n                link=\"true\"\n                handleRemove={removePost}\n              />\n            ))\n          ) : (\n            <div className=\"empty-sub\">\n              <h1>No Posts Yet!</h1>\n              <Surprise className=\"empty-sub-icon\" />\n              <Link\n                to={{ pathname: \"/submit\", state: { subID: data.sub._id } }}\n                className=\"button-filled\"\n              >\n                Create Post\n              </Link>\n            </div>\n          )}\n        </div>\n        <Sidebar sub={data.sub} />\n      </main>\n    </div>\n  ) : null;\n};\n\nexport default Sub;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Input = React.forwardRef(({ name, label, error, ...rest }, ref) => {\n  return (\n    <div className=\"form-group\">\n      <label className=\"form-group-label\" htmlFor={name}>\n        {label}\n      </label>\n      <input\n        className={error ? \"form-group-input-error\" : \"form-group-input\"}\n        name={name}\n        {...rest}\n        ref={ref}\n      />\n      {error ? <span className=\"error\">{error}</span> : null}\n    </div>\n  );\n});\n\nexport default Input;\n","import \"./Form.css\";\n\nconst Form = ({ handleSubmit, title, error, art, button, children }) => {\n  return (\n    <div className=\"form-container\">\n      <div className={`form-art art${art}`}></div>\n      <form className=\"formy-form\" onSubmit={handleSubmit}>\n        <h2 className=\"form-heading\">{title}</h2>\n        {error ? <div className=\"error-block\">{error}</div> : null}\n        {children}\n        <input type=\"submit\" className=\"button-filled\" value={button} />\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Textarea = React.forwardRef(\n  ({ name, label, placeholder, error }, ref) => {\n    return (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor={name}>\n          {label}\n        </label>\n        <textarea\n          className={\n            error ? \"form-group-textarea-error\" : \"form-group-textarea\"\n          }\n          name={name}\n          placeholder={placeholder}\n          ref={ref}\n        ></textarea>\n        {error ? <span className=\"error\">{error}</span> : null}\n      </div>\n    );\n  }\n);\n\nexport default Textarea;\n","import React from \"react\";\nimport \"../FormComponents.css\";\n\nconst Select = React.forwardRef(\n  ({ name, label, defaultValue, optionsArray, error }, ref) => {\n    return (\n      <div className=\"form-group\">\n        <label htmlFor={name} className=\"form-group-label\">\n          {label}\n        </label>\n        <select name={name} defaultValue={defaultValue} ref={ref}>\n          {optionsArray.map((option) => (\n            <option key={option._id} value={option._id}>\n              {option.name}\n            </option>\n          ))}\n        </select>\n        {error ? <span className=\"error\">{error}</span> : null}\n      </div>\n    );\n  }\n);\n\nexport default Select;\n","import \"./PostForm.css\";\nimport { fetchGetData, fetchPostData, fetchPutData } from \"../../api/index\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { baseUrl } from \"../../config/const\";\nimport { Input, Textarea, Form, Select } from \"../FormComponents\";\n\nconst PostForm = ({ edit }) => {\n  const location = useLocation();\n  console.log(location);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { subID, postID } = useParams() || \"\";\n\n  const [type, setType] = useState(\"text\");\n  const [subs, setSubs] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {}, [type]);\n\n  const makeSchema = () => {\n    return type === \"text\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          content: yup.string().max(2000).trim(),\n        })\n      : type === \"image\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          image: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"Valid URL is required\")\n            .max(100)\n            .min(1)\n            .trim(),\n        })\n      : type === \"video\"\n      ? yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          video: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"A link is required\")\n            .matches(\n              /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/,\n              {\n                message: \"Must be a valid YouTube URL\",\n              }\n            )\n            .max(100)\n            .min(1)\n            .trim(),\n        })\n      : yup.object().shape({\n          title: yup\n            .string()\n            .required(\"Title is required\")\n            .min(3)\n            .max(300)\n            .trim(),\n          link: yup\n            .string()\n            .url(\"Something doesn't look right\")\n            .required(\"Valid URL is required\")\n            .max(100)\n            .min(1)\n            .trim(),\n        });\n  };\n\n  const { register, handleSubmit, errors, setValue } = useForm({\n    resolver: yupResolver(makeSchema()),\n    shouldUnregister: false,\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/user`, auth.token);\n      setSubs(response.subs);\n    };\n    if (!edit) fetchData();\n  }, [auth.token, edit]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchGetData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}`\n      );\n      console.log(response);\n      if (response.post.type) {\n        setType(response.post.type);\n      }\n      if (response.post.type && response.post.type === \"video\") {\n        setValue(response.post.type, response.post.content, {\n          shouldValidate: true,\n        });\n      }\n      setValue(\"title\", response.post.title, { shouldValidate: true });\n    };\n    if (edit) {\n      fetchData();\n    }\n  }, [edit, postID, setValue, subID]);\n\n  const onSubmit = (data) => {\n    let { title, sub, content, video, link, image } = data;\n    if (type === \"video\") {\n      data = { title, content: video, type, sub };\n    } else if (type === \"image\") {\n      data = { title, sub, type, content: image };\n    } else if (type === \"link\") {\n      data = { title, sub, type, content: link };\n    } else {\n      data = { title, sub, type, content };\n    }\n    edit ? updatePost(data) : createPost(data);\n  };\n\n  const makeInput = () => {\n    return type === \"text\" ? (\n      <Textarea\n        name=\"content\"\n        label=\"Content\"\n        placeholder=\"optional\"\n        ref={register}\n        error={errors.content ? errors.content.message : null}\n      />\n    ) : type === \"video\" ? (\n      <Input\n        name=\"video\"\n        type=\"text\"\n        label=\"YouTube Video\"\n        placeholder=\"Please include the full url\"\n        ref={register}\n        error={errors.video ? errors.video.message : null}\n      />\n    ) : type === \"link\" ? (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor=\"link\">\n          Link\n        </label>\n        <input\n          className={\n            errors.link ? \"form-group-input-error\" : \"form-group-input\"\n          }\n          name=\"link\"\n          type=\"text\"\n          placeholder=\"Please include the full url\"\n          ref={register}\n        />\n        {errors.link ? (\n          <span className=\"error\">{errors.link.message}</span>\n        ) : null}\n      </div>\n    ) : (\n      <div className=\"form-group\">\n        <label className=\"form-group-label\" htmlFor=\"image\">\n          Image Link\n        </label>\n        <input\n          className={\n            errors.image ? \"form-group-input-error\" : \"form-group-input\"\n          }\n          name=\"image\"\n          type=\"text\"\n          placeholder=\"Please include the full url\"\n          ref={register}\n        />\n        {errors.image ? (\n          <span className=\"error\">{errors.image.message}</span>\n        ) : null}\n      </div>\n    );\n  };\n\n  const createPost = async (data) => {\n    const response = await fetchPostData(\n      `${baseUrl}/api/s/${subID}/posts/create`,\n      data,\n      auth.token\n    );\n    if (response.post) {\n      flash.changeMessage(response.message);\n      history.push(`/s/${data.sub}/posts/${response.post._id}`);\n    } else {\n      setError(\"Something went wrong\");\n    }\n  };\n\n  const updatePost = async (data) => {\n    try {\n      const url = `${baseUrl}/api/s/${subID}/posts/${postID}/update`;\n      const response = await fetchPutData(url, data, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Post updated successfully\");\n        history.push(`/s/${data.sub}/posts/${postID}`);\n      } else {\n        setError(\"Something went wrong\");\n      }\n    } catch (err) {\n      console.log({ message: \"something went wrong\", error: err });\n    }\n  };\n\n  const changeType = (e) => {\n    setType(e.target.name);\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title={edit ? \"Edit Post\" : \"Create Post\"}\n      error={error}\n      art=\"1\"\n      button={edit ? \"Save Changes\" : \"Create Post\"}\n    >\n      <div className=\"type-selector\">\n        <button\n          type=\"button\"\n          name=\"text\"\n          onClick={changeType}\n          className={\n            type === \"text\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Text\n        </button>\n        <button\n          type=\"button\"\n          name=\"image\"\n          onClick={changeType}\n          className={\n            type === \"image\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          {\" \"}\n          Image\n        </button>\n        <button\n          type=\"button\"\n          name=\"video\"\n          onClick={changeType}\n          className={\n            type === \"video\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Video\n        </button>\n        <button\n          type=\"button\"\n          name=\"link\"\n          onClick={changeType}\n          className={\n            type === \"link\" ? \"type-selection selected\" : \"type-selection\"\n          }\n        >\n          Link\n        </button>\n      </div>\n      {subs ? (\n        <Select\n          name=\"sub\"\n          label=\"Community\"\n          defaultValue={location.state ? location.state.subID : null}\n          optionsArray={subs}\n          ref={register}\n          error={errors.sub ? errors.sub.message : null}\n        />\n      ) : null}\n      <Input\n        name=\"title\"\n        type=\"text\"\n        label=\"Title\"\n        placeholder=\"What did you want everyone to know about?\"\n        ref={register}\n        error={errors.title ? errors.title.message : null}\n      />\n      {makeInput()}\n    </Form>\n  );\n};\n\nexport default PostForm;\n","import { fetchPostData, fetchGetData, fetchPutData } from \"../../api\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { useState, useEffect } from \"react\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Input, Form, Textarea } from \"../FormComponents\";\nimport { baseUrl } from \"../../config/const\";\n\nconst SubForm = ({ edit }) => {\n  const { subID } = useParams() || \"\";\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const [error, setError] = useState(null);\n\n  const makeSchema = () => {\n    if (edit) {\n      return yup.object().shape({\n        description: yup.string().required().min(6).max(600),\n      });\n    } else {\n      return yup.object().shape({\n        name: yup\n          .string()\n          .required()\n          .min(3)\n          .max(20)\n          .trim()\n          .matches(/^[_a-zA-Z0-9]*$/, {\n            message: \"cannot contain special characters or spaces\",\n          }),\n        description: yup.string().required().min(6).max(600),\n      });\n    }\n  };\n\n  const { register, handleSubmit, setValue, errors } = useForm({\n    resolver: yupResolver(makeSchema()),\n  });\n\n  useEffect(() => {\n    const getSubData = async () => {\n      const response = await fetchGetData(`${baseUrl}/api/s/${subID}\n      `);\n      setValue(\"name\", response.sub.name);\n      setValue(\"description\", response.sub.description);\n      setValue(\"color\", response.sub.color);\n    };\n    if (edit) getSubData();\n  }, [edit, setValue, subID]);\n\n  const onSubmit = (data) => {\n    edit ? updateSub(data) : createSub(data);\n  };\n\n  const createSub = async (data) => {\n    try {\n      const response = await fetchPostData(\n        `${baseUrl}/api/s/create`,\n        data,\n        auth.token\n      );\n      if (response.errors) {\n        setError(response.errors[0].msg);\n      } else if (response.sub) flash.changeMessage(\"New community created!\");\n      history.push(`/s/${response.sub._id}`);\n    } catch (err) {\n      setError(err);\n      console.log(\"something wrong in sub creation\");\n    }\n  };\n\n  const updateSub = async (data) => {\n    try {\n      const response = await fetchPutData(\n        `${baseUrl}/api/s/${subID}/update`,\n        data,\n        auth.token\n      );\n      if (response.ok) {\n        history.push(`/s/${subID}`);\n      } else {\n        console.log(\"errorsss\");\n      }\n    } catch (err) {\n      setError(err);\n      console.log(\"something wrong in sub creation\");\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title={edit ? \"Update Community\" : \"Create Community\"}\n      error={error}\n      art=\"1\"\n      button={edit ? \"Save Changes\" : \"Create Community\"}\n    >\n      <Input\n        name=\"name\"\n        label=\"Community Name\"\n        type=\"text\"\n        placeholder=\"3-20 characters\"\n        disabled={edit ? \"disabled\" : null}\n        ref={register}\n        error={errors.name ? errors.name.message : null}\n      />\n\n      <Textarea\n        name=\"description\"\n        label=\"Description\"\n        placeholder=\"min 6 characters\"\n        ref={register}\n        error={errors.description ? errors.description.message : null}\n      />\n      <Input name=\"color\" label=\"Community Color\" type=\"color\" ref={register} />\n    </Form>\n  );\n};\n\nexport default SubForm;\n","import \"./CommentForm.css\";\nimport { fetchPostData, fetchPutData } from \"../../api\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Textarea } from \"../FormComponents\";\nimport { useEffect } from \"react\";\nimport { baseUrl } from \"../../config/const\";\n\nconst schema = yup.object().shape({\n  content: yup.string().required().min(1).max(600),\n});\n\nconst CommentForm = (props) => {\n  const auth = useAuth();\n  const flash = useFlash();\n  const { parentComment, refreshPost, handleForm, edit } = props;\n  const { subID, postID } = useParams();\n  const parent = parentComment ? parentComment._id : null;\n  const { register, handleSubmit, errors, setValue } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    if (edit) {\n      setValue(\"content\", parentComment.content, { shouldValidate: true });\n    }\n  }, [parentComment, edit, setValue]);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    handleForm(e);\n  };\n\n  const createComment = async (content) => {\n    try {\n      parentComment ? console.log(true) : console.log(false);\n      const response = await fetchPostData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}/comments/create`,\n        parentComment ? { content, parent: parentComment._id } : { content },\n        auth.token\n      );\n      if (response.comment) {\n        flash.changeMessage(\"Comment created successfully\");\n        refreshPost();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateComment = async (content) => {\n    try {\n      const url = `${baseUrl}/api/s/${subID}/posts/${postID}/comments/${parent}/update`;\n      const response = await fetchPutData(url, { content }, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Comment edited successfully\");\n        refreshPost();\n      } else {\n        flash.changeMessage(\"Oops! Something went wrong.\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const onSubmit = (data) => {\n    const { content } = data;\n    edit ? updateComment(content) : createComment(content);\n  };\n\n  return auth.user ? (\n    <form className=\"comment-form\" onSubmit={handleSubmit(onSubmit)}>\n      <Textarea\n        name=\"content\"\n        placeholder=\"What are your thoughts?\"\n        ref={register}\n        error={errors.content ? errors.content.message : null}\n      />\n      <div className=\"form-button-container\">\n        {parentComment ? (\n          <button\n            className=\"button-outline\"\n            id=\"cancel-form\"\n            onClick={handleClick}\n          >\n            Cancel\n          </button>\n        ) : null}\n        <button className=\"button-filled\" onClick={handleSubmit}>\n          {edit ? \"Edit\" : \"Comment\"}\n        </button>\n      </div>\n    </form>\n  ) : (\n    <div className=\"no-user-box\">\n      <span>Log in or sign up to leave a comment</span>\n      <div className=\"nav-buttons\">\n        <Link to=\"/signup\" className=\"button-outline nav-button\">\n          Sign Up\n        </Link>\n        <Link to=\"/login\" className=\"button-filled nav-button\">\n          Log In\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default CommentForm;\n","import CommentForm from \"../CommentForm\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { Link } from \"react-router-dom\";\nimport Score from \"../Score\";\nimport Alert from \"../Alert\";\nimport moment from \"moment\";\nimport { Message } from \"@styled-icons/entypo\";\nimport { fetchPutData, fetchDeleteData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport \"./Comment.css\";\n\nconst Comment = ({\n  comment,\n  post,\n  refreshPost,\n  layer,\n  handleRemove,\n  children,\n}) => {\n  const flash = useFlash();\n  const auth = useAuth();\n  const [openForm, setOpenForm] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [score, setScore] = useState(comment.score);\n  const [showAlert, setShowAlert] = useState(false);\n\n  const handleClick = (e) => {\n    if (e.target.name === \"delete\") {\n      toggleAlert();\n    } else {\n      if (e.target.name === \"edit\") {\n        setEdit(true);\n      }\n      if (openForm) {\n        setOpenForm(false);\n        setEdit(false);\n      } else {\n        setOpenForm(true);\n      }\n    }\n  };\n\n  const handleDelete = async () => {\n    const url = `${baseUrl}/api/s/${\n      post ? post.sub._id : comment.post.sub\n    }/posts/${post ? post._id : comment.post._id}/comments/${\n      comment._id\n    }/delete`;\n    const response = await fetchDeleteData(url, auth.token);\n    console.log(response);\n    if (response.ok) {\n      handleRemove ? handleRemove(comment._id) : refreshPost();\n      flash.changeMessage(\"Comment Deleted\");\n    } else {\n      flash.changeMessage(\"Oops! Something went wrong!\");\n    }\n  };\n\n  const handleDeleteProposal = (confirm) => {\n    confirm ? handleDelete() : toggleAlert();\n  };\n\n  const toggleAlert = () => {\n    showAlert ? setShowAlert(false) : setShowAlert(true);\n  };\n\n  const handleScoreChange = (direction, increment) => {\n    setScore((old) => (old += increment));\n    if (direction === \"up\") {\n      castVote(true);\n    } else if (direction === \"down\") {\n      castVote(false);\n    } else {\n      castVote(null);\n    }\n  };\n\n  const castVote = async (value) => {\n    const url = `${baseUrl}/api/s/${post.sub._id}/posts/${post._id}/comments/${comment._id}/vote`;\n    await fetchPutData(url, { value }, auth.token);\n  };\n\n  return (\n    <div className={comment.parent ? \"comment-reply\" : \"comment-container\"}>\n      {showAlert ? (\n        <Alert\n          title=\"Delete Comment\"\n          message=\"Are you sure you want to delete this comment?\"\n          onSubmit={handleDeleteProposal}\n        />\n      ) : null}\n      <div className=\"comment\">\n        {comment.author ? (\n          <Score\n            score={score}\n            item={comment}\n            type=\"comment\"\n            handleChoice={handleScoreChange}\n          />\n        ) : null}\n        <article>\n          <header className=\"card-header\">\n            {comment.author ? (\n              <Link\n                className=\"header-item profile-link\"\n                to={`/users/${comment.author.username}`}\n              >\n                {comment.author.username}\n              </Link>\n            ) : (\n              <span className=\"header-item\">[deleted]</span>\n            )}\n            <span className=\"header-item\">\n              {score === 1 ? score + \" point\" : score + \" points\"}\n            </span>\n            <span className=\"header-item\">\n              - {moment(comment.dateCreated).startOf(\"hour\").fromNow()}\n            </span>\n            {comment.dateEdited ? (\n              <span className=\"header-item edited-item\">\n                edited {moment(comment.dateEdited).startOf(\"hour\").fromNow()}\n              </span>\n            ) : null}\n          </header>\n          <main className=\"card-main\">\n            <span>{comment.content ? comment.content : \"[deleted]\"}</span>\n          </main>\n          {auth.user && comment.author ? (\n            <footer className=\"card-footer\">\n              {layer < 6 ? (\n                <button onClick={handleClick} className=\"footer-item\">\n                  <Message className=\"reply-bubble\" />\n                  Reply\n                </button>\n              ) : null}\n              {auth.user && auth.user._id === comment.author._id ? (\n                <div className=\"footer-button-container\">\n                  <button\n                    className=\"footer-item\"\n                    name=\"edit\"\n                    onClick={handleClick}\n                  >\n                    Edit\n                  </button>\n                  <button\n                    className=\"footer-item\"\n                    name=\"delete\"\n                    onClick={handleClick}\n                  >\n                    Delete\n                  </button>\n                </div>\n              ) : null}\n            </footer>\n          ) : null}\n          {openForm ? (\n            <CommentForm\n              post={post}\n              parentComment={comment}\n              refreshPost={refreshPost}\n              handleForm={handleClick}\n              edit={edit}\n            />\n          ) : null}\n        </article>\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default Comment;\n","import \"./CommentIndex.css\";\nimport Comment from \"../Comment\";\nimport CommentForm from \"../CommentForm\";\n\nconst CommentIndex = ({ comments, post, refreshPost }) => {\n  const renderAllComments = (comments, layer) => {\n    return comments.map((comment) => (\n      <Comment\n        key={comment._id}\n        comment={comment}\n        post={post}\n        refreshPost={refreshPost}\n        layer={layer}\n      >\n        {comment.replies ? renderAllComments(comment.replies, layer + 1) : null}\n      </Comment>\n    ));\n  };\n\n  return (\n    <div id=\"comments-container\">\n      <h3>Leave A Comment</h3>\n      <div>\n        <CommentForm post={post} refreshPost={refreshPost} />\n      </div>\n      <div id=\"comments-index\">\n        {comments ? renderAllComments(comments, 1) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentIndex;\n","import \"./PostDetails.css\";\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchGetData } from \"../../api\";\nimport { baseUrl } from \"../../config/const\";\nimport CommentIndex from \"../CommentIndex\";\nimport Post from \"../Post\";\nimport Sidebar from \"../Sidebar\";\nimport Loader from \"../Loader\";\n\nconst PostDetails = () => {\n  const { subID, postID } = useParams();\n  const [post, setPost] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(\n        `${baseUrl}/api/s/${subID}/posts/${postID}`\n      );\n      setPost(response.post);\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [postID, subID]);\n\n  const refreshPost = async () => {\n    setIsLoading(true);\n    const response = await fetchGetData(\n      `${baseUrl}/api/s/${subID}/posts/${postID}`\n    );\n    setPost(response.post);\n    setIsLoading(false);\n  };\n\n  return (\n    <div>\n      {isLoading ? (\n        <Loader />\n      ) : post ? (\n        <div className=\"post-details-container\">\n          <div className=\"post-details\">\n            <Post post={post} />\n            <CommentIndex\n              comments={post.comments}\n              post={post}\n              refreshPost={refreshPost}\n            />\n          </div>\n          <Sidebar sub={post.sub} />\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Input, Form } from \"../FormComponents\";\n\nconst schema = yup.object().shape({\n  username: yup\n    .string()\n    .required(\"A username is required\")\n    .min(3, \"Usernames must be between 3-20 characters in length\")\n    .max(20, \"Usernames must be between 3-20 characters in length\")\n    .trim()\n    .matches(/^[_a-zA-Z0-9]*$/, {\n      message: \"cannot contain special characters or spaces\",\n    }),\n  password: yup.string().required(\"Password is required\").min(6).max(40),\n  password2: yup\n    .string()\n    .required(\"Please re-enter password\")\n    .oneOf([yup.ref(\"password\"), null], \"Passwords must match\"),\n  email: yup\n    .string()\n    .required(\"An email is required\")\n    .email(\"Must be a valid email\"),\n});\n\nconst SignupForm = () => {\n  const [error, setError] = useState(null);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    const { username, password, email } = data;\n    try {\n      const response = await auth.signup(username, password, email);\n      if (response.user) {\n        flash.changeMessage(\"Account created successfully! Please log in.\");\n        history.push(\"/login\");\n      } else if (response.errors) {\n        console.log(response);\n        setError(response.errors[0].msg);\n      } else {\n        setError(\"Something went wrong.\");\n      }\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title=\"Sign Up\"\n      error={error}\n      art=\"2\"\n      button=\"Create Account\"\n    >\n      <Input\n        name=\"username\"\n        label=\"Username\"\n        type=\"text\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.username ? errors.username.message : null}\n      />\n      <Input\n        name=\"email\"\n        label=\"Email\"\n        type=\"text\"\n        placeholder=\"example@example.com\"\n        ref={register}\n        error={errors.email ? errors.email.message : null}\n      />\n      <Input\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.password ? errors.password.message : null}\n      />\n      <Input\n        name=\"password2\"\n        label=\"Confirm Password\"\n        type=\"password\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.password2 ? errors.password2.message : null}\n      />\n    </Form>\n  );\n};\n\nexport default SignupForm;\n","import { useState } from \"react\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Form, Input } from \"../FormComponents\";\n\nconst schema = yup.object().shape({\n  username: yup.string().required().min(3).max(20).trim(),\n  password: yup.string().required().min(6).max(40).trim(),\n});\n\nconst LoginForm = () => {\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  let location = useLocation();\n  let { from } = location.state || { from: { pathname: \"/\" } };\n  const auth = useAuth();\n  const flash = useFlash();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    const { username, password } = data;\n    const response = await auth.login(username, password);\n    if (!response.user) setError(response.message);\n    if (response.user) {\n      history.replace(from);\n      flash.changeMessage(`Welcome back ${response.user.username}`);\n    }\n  };\n\n  return (\n    <Form\n      handleSubmit={handleSubmit(onSubmit)}\n      title=\"Log In\"\n      error={error}\n      art=\"2\"\n      button=\"Log In\"\n    >\n      <Input\n        name=\"username\"\n        label=\"Username\"\n        type=\"text\"\n        placeholder=\"\"\n        ref={register}\n        error={errors.username ? errors.username.message : null}\n      />\n      <Input\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        ref={register}\n        error={errors.password ? errors.password.message : null}\n      />\n    </Form>\n  );\n};\n\nexport default LoginForm;\n","import \"./UserProfile.css\";\nimport { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Loader from \"../Loader\";\n// import { useAuth } from \"../../hooks/use-auth\";\nimport { useWindowSize } from \"../../hooks/use-window-size\";\nimport { fetchGetData } from \"../../api\";\nimport Post from \"../Post\";\nimport Comment from \"../Comment\";\nimport Sidebar from \"../Sidebar\";\nimport { baseUrl } from \"../../config/const\";\n\nconst UserProfile = () => {\n  // const auth = useAuth();\n  const size = useWindowSize();\n  const { username } = useParams() || \"\";\n  const [content, setContent] = useState(\"posts\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetchGetData(`${baseUrl}/api/users/${username}`);\n        setUser(response.user);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchData();\n  }, [username]);\n\n  const calcScore = () => {\n    let score = 0;\n    user.posts.forEach((post) => (score += post.score));\n    user.comments.forEach((comment) => (score += comment.score));\n    return score;\n  };\n\n  const handleClick = (e) => {\n    e.target.name === \"posts\" ? setContent(\"posts\") : setContent(\"comments\");\n  };\n\n  const removePost = (id) => {\n    const newPosts = user.posts.filter((post) => post._id !== id);\n    setUser({ ...user, posts: newPosts });\n  };\n\n  const removeComment = (id) => {\n    const newComments = user.comments.filter((comment) => comment._id !== id);\n    setUser({ ...user, comments: newComments });\n  };\n\n  const mapPosts = () => {\n    return user.posts.map((post) => (\n      <Post key={post._id} post={post} link=\"true\" handleRemove={removePost} />\n    ));\n  };\n\n  const mapComments = () => {\n    return user.comments.map((comment) => (\n      <div className=\"comment-box\" key={comment._id}>\n        <div>\n          {comment.post ? (\n            <span>\n              {comment.post.title} posted by {comment.post.author.username}\n            </span>\n          ) : (\n            <span>deleted</span>\n          )}\n        </div>\n        <Comment comment={comment} handleRemove={removeComment} />\n      </div>\n    ));\n  };\n\n  return user ? (\n    <div className=\"user-profile-container\">\n      <nav className=\"profile-nav\">\n        <button\n          onClick={handleClick}\n          name=\"posts\"\n          className=\"type-selection\"\n          style={\n            content === \"posts\" ? { borderBottom: \"2px solid #222\" } : null\n          }\n        >\n          Posts ({user.posts.length})\n        </button>\n        <button\n          onClick={handleClick}\n          name=\"comments\"\n          className=\"type-selection\"\n          style={\n            content === \"comments\" ? { borderBottom: \"2px solid #222\" } : null\n          }\n        >\n          Comments ({user.comments.length})\n        </button>\n      </nav>\n      <div className=\"user-profile-content\">\n        {content === \"posts\" ? mapPosts() : mapComments()}\n      </div>\n      {size.width > 800 ? (\n        <div className=\"user-details\">\n          <Sidebar user={user} score={calcScore()} />\n        </div>\n      ) : null}\n    </div>\n  ) : (\n    <Loader />\n  );\n};\n\nexport default UserProfile;\n","import { useState, useEffect } from \"react\";\nimport { fetchGetData } from \"../../api\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport \"./SubIndex.css\";\nimport { baseUrl } from \"../../config/const\";\nimport Loader from \"../Loader\";\nimport SubscribeButton from \"../SubscribeButton\";\n\nconst SubIndex = () => {\n  const auth = useAuth();\n\n  const [subs, setSubs] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const response = await fetchGetData(`${baseUrl}/api/s/`);\n      setSubs(response.subs);\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, []);\n  return (\n    <div id=\"sub-index-container\">\n      <header id=\"sub-index-header\">\n        <h3 className=\"white-heading\">Browse Communities</h3>\n        <Link to=\"create\" className=\"button-outline nav-button\">\n          Create Community\n        </Link>\n      </header>\n      <div id=\"sub-index\">\n        {isLoading ? (\n          <Loader />\n        ) : subs ? (\n          subs.map((sub) => (\n            <div className=\"sub-preview-large\">\n              <div className=\"preview-name-box\">\n                {\" \"}\n                <div\n                  className=\"sub-circle\"\n                  style={sub.color ? { backgroundColor: sub.color } : null}\n                ></div>\n                <span className=\"sub-name preview-item\">{sub.name}</span>\n              </div>\n\n              {auth.user ? <SubscribeButton subData={sub} /> : null}\n              <Link\n                to={`${sub._id}`}\n                key={sub._id}\n                className=\"sub-preview-link\"\n              />\n            </div>\n          ))\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default SubIndex;\n","import \"./UserForm.css\";\n\nimport { useState } from \"react\";\nimport { fetchPutData } from \"../../api/\";\nimport { useAuth } from \"../../hooks/use-auth\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Input, Form } from \"../FormComponents\";\nimport { baseUrl } from \"../../config/const\";\n\nconst passwordSchema = yup.object().shape({\n  oldPassword: yup\n    .string()\n    .required(\"Please enter your old password\")\n    .min(6)\n    .max(40),\n  password: yup.string().required(\"New password is required\").min(6).max(40),\n  password2: yup\n    .string()\n    .required(\"Please re-enter password\")\n    .oneOf([yup.ref(\"password\"), null], \"Passwords must match\"),\n});\n\nconst emailSchema = yup.object().shape({\n  email: yup\n    .string()\n    .required(\"An email is required\")\n    .email(\"Must be a valid email\"),\n});\n\nconst UserForm = ({ email }) => {\n  const [error, setError] = useState(null);\n  const auth = useAuth();\n  const flash = useFlash();\n  const history = useHistory();\n  const { register, handleSubmit, errors } = useForm({\n    resolver: email ? yupResolver(emailSchema) : yupResolver(passwordSchema),\n  });\n\n  const onSubmit = (data) => {\n    console.log(data);\n    email ? updateEmail(data) : updatePassword(data);\n  };\n\n  const updatePassword = async (data) => {\n    const { oldPassword, password, password2 } = data;\n    const url = `${baseUrl}/api/users/${auth.user.username}/update_password`;\n    try {\n      const response = await fetchPutData(\n        url,\n        { oldPassword, password, password2 },\n        auth.token\n      );\n      if (response.ok) {\n        flash.changeMessage(\"Password successfully updated\");\n        history.push(`/users/${auth.user.username}`);\n      } else {\n        const data = await response.json();\n        if (data.errors) {\n          setError(data.errors[0].msg);\n        }\n        console.log({ response, data });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateEmail = async (data) => {\n    const { email } = data;\n    const url = `${baseUrl}/api/users/${auth.user.username}/update_email`;\n    try {\n      const response = await fetchPutData(url, { email }, auth.token);\n      if (response.ok) {\n        flash.changeMessage(\"Email successfully updated\");\n        history.push(`/users/${auth.user.username}`);\n      } else {\n        const data = await response.json();\n        if (data.errors) {\n          setError(data.errors[0].msg);\n        }\n        console.log(response);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const makePasswordForm = () => {\n    return (\n      <Form\n        handleSubmit={handleSubmit(onSubmit)}\n        title=\"Change Password\"\n        error={error}\n        art=\"2\"\n        button=\"Update Password\"\n      >\n        <Input\n          name=\"oldPassword\"\n          label=\"Old Password\"\n          type=\"text\"\n          placeholder=\"\"\n          ref={register}\n          error={errors.oldPassword ? errors.oldPassword.message : null}\n        />\n        <Input\n          name=\"password\"\n          label=\"New Password\"\n          type=\"password\"\n          placeholder=\"\"\n          ref={register}\n          error={errors.password ? errors.password.message : null}\n        />\n        <Input\n          name=\"password2\"\n          label=\"Confirm Password\"\n          type=\"password\"\n          placeholder=\"\"\n          ref={register}\n          error={errors.password2 ? errors.password2.message : null}\n        />\n      </Form>\n    );\n  };\n\n  const makeEmailForm = () => {\n    return (\n      <Form\n        handleSubmit={handleSubmit(onSubmit)}\n        title=\"Change Email Address\"\n        error={error}\n        art=\"2\"\n        button=\"Update Email\"\n      >\n        <Input\n          name=\"email\"\n          label=\"New Email\"\n          type=\"text\"\n          placeholder=\"example@example.com\"\n          ref={register}\n          error={errors.email ? errors.email.message : null}\n        />\n      </Form>\n    );\n  };\n\n  return email ? makeEmailForm() : makePasswordForm();\n};\n\nexport default UserForm;\n","import \"./Flash.css\";\nimport { useFlash } from \"../../hooks/use-flash-message\";\n\nconst Flash = () => {\n  const flash = useFlash();\n\n  return flash.showMessage ? (\n    <div className=\"flash-container\">\n      <aside className=\"blue-bar\"></aside>\n      <span className=\"flash-message\">{flash.message}</span>\n    </div>\n  ) : null;\n};\n\nexport default Flash;\n","import { useAuth } from \"../../hooks/use-auth\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRoute = ({ children, ...rest }) => {\n  let auth = useAuth();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        auth.user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport { ProvideAuth } from \"../../hooks/use-auth\";\nimport { ProvideFlash } from \"../../hooks/use-flash-message\";\n\nimport Navbar from \"../Navbar\";\nimport Home from \"../Home\";\nimport All from \"../All\";\nimport Sub from \"../Sub\";\nimport PostForm from \"../PostForm\";\nimport SubForm from \"../SubForm\";\nimport PostDetails from \"../PostDetails\";\nimport SignupForm from \"../SignupForm\";\nimport LoginForm from \"../LoginForm\";\nimport UserProfile from \"../UserProfile\";\nimport SubIndex from \"../SubIndex\";\nimport UserForm from \"../UserForm\";\nimport Flash from \"../Flash\";\nimport PrivateRoute from \"../PrivateRoute\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ProvideAuth>\n        <ProvideFlash>\n          <Flash />\n          <Router>\n            <Navbar />\n            <main id=\"main-container\">\n              <Switch>\n                <PrivateRoute path=\"/users/:username/update_email\">\n                  <UserForm email={true} />\n                </PrivateRoute>\n                <PrivateRoute path=\"/users/:username/update_password\">\n                  <UserForm />\n                </PrivateRoute>\n                <Route path=\"/users/:username\">\n                  <UserProfile />\n                </Route>\n                <PrivateRoute path=\"/s/:subID/update\">\n                  <SubForm edit={true} />\n                </PrivateRoute>\n                <PrivateRoute path=\"/s/:subID/posts/:postID/update\">\n                  <PostForm edit={true} />\n                </PrivateRoute>\n                <Route path=\"/s/:subID/posts/:postID\">\n                  <PostDetails />\n                </Route>\n                <PrivateRoute path=\"/s/:subID/submit\">\n                  <PostForm />\n                </PrivateRoute>\n                <PrivateRoute path=\"/s/create\">\n                  <SubForm />\n                </PrivateRoute>\n                <Route path=\"/s/browse\">\n                  <SubIndex />\n                </Route>\n                <Route path=\"/s/all\">\n                  <All />\n                </Route>\n                <Route path=\"/s/:subID\">\n                  <Sub />\n                </Route>\n                <PrivateRoute path=\"/submit\">\n                  <PostForm />\n                </PrivateRoute>\n                <Route path=\"/login\">\n                  <LoginForm />\n                </Route>\n                <Route path=\"/signup\">\n                  <SignupForm />\n                </Route>\n                <PrivateRoute path=\"/home\">\n                  <Home />\n                </PrivateRoute>\n                <Route path=\"/\">\n                  <Home />\n                </Route>\n              </Switch>\n            </main>\n          </Router>\n        </ProvideFlash>\n      </ProvideAuth>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}